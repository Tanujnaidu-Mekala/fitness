<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Athletic Training Plan Generator</title>
    <!-- Google Fonts for Montserrat and Roboto Condensed -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/jpeg" href="logo.jpg" />
    <style>
        /* All existing CSS styles remain unchanged */
        /* ========================================================================
        GLOBAL STYLES & UTILITIES
        ======================================================================== */
        :root {
            --bg-dark: #000000;
            --bg-darker: #050505;
            --bg-lighter: #1A1A1A;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
            --text-muted: #666666;
            --border-subtle: rgba(0, 255, 255, 0.15);
            --accent-color: #00FFFF;
            --primary-gradient: linear-gradient(135deg, var(--accent-color) 0%, #0099CC 100%);
            --secondary-gradient: linear-gradient(135deg, var(--accent-orange) 0%, #F7931E 100%);
            --accent-gradient: linear-gradient(135deg, var(--accent-pink) 0%, #C77DFF 100%);
            --accent-orange: #FF6B35;
            --accent-pink: #F72585;
            --recovery-color: #28a745;
            --fatigue-color: #ffc107;
            --danger-color: #ff4d4d;
            --bear-color: #8B4513;
            --lion-color: #DAA520;
            --cheetah-color: #FFA500;
            --eagle-color: #4682B4;
            --wolf-color: #696969;
            --tiger-color: #FF8C00;
            --gorilla-color: #4B0082;
            --shark-color: #00CED1;
            --rest-color: #555555;
            --error-color: #ff4d4d;
            --health-restriction-color: #ff0000;
            --health-restriction-bg: rgba(255, 0, 0, 0.15);
            --health-restriction-border: #ff0000;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none !important; /* Hide default cursor */
        }
        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }
        .gradient-text {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .cyan-text {
            color: var(--accent-color);
        }
        
        /* Custom Cursor and Smash Effect */
        .custom-cursor {
            position: fixed;
            width: 40px;
            height: 40px;
            z-index: 99999;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease;
        }
        .dumbbell-cursor {
            font-size: 40px;
            color: var(--accent-color);
            animation: rotate 3s linear infinite;
            filter: drop-shadow(0 0 15px rgba(0, 255, 255, 0.9));
        }
        .smash-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10000;
        }
        .smash-particle {
            position: absolute;
            font-size: 16px;
            pointer-events: none;
            animation: smash 0.8s ease-out forwards;
            filter: drop-shadow(0 0 6px rgba(0, 255, 255, 0.7));
        }
        .glass-break {
            position: absolute;
            pointer-events: none;
            animation: glassBreak 0.8s ease-out forwards;
        }
        .glass-shard {
            position: absolute;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.8), rgba(0, 255, 255, 0.5));
            pointer-events: none;
            animation: shardFly 1s ease-out forwards;
            box-shadow: 0 0 8px rgba(0, 255, 255, 0.7);
        }
        
        /* Floating Particles Background */
        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        .particle {
            position: absolute;
            background: var(--accent-color);
            border-radius: 50%;
            opacity: 0.3;
            animation: float-particle 15s infinite linear;
        }
        
        /* Floating Icons Background */
        .floating-icons-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        .floating-icon {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.2;
            animation: float-icon 20s infinite ease-in-out;
        }
        
        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 80px;
            transition: all 0.3s ease;
        }
        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            letter-spacing: 1px;
            font-family: 'Montserrat', sans-serif;
        }
        .logo:hover {
            transform: scale(1.05);
        }
        .logo-icon {
            width: 2.5rem;
            height: 2.5rem;
            color: var(--accent-color);
            animation: pulse 2s infinite;
        }
        
        /* Profile Dropdown Styles - Copied from First Code */
        .profile-dropdown {
            position: relative;
        }
        
        .profile-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: var(--primary-gradient);
            border: none;
            border-radius: 50px;
            color: var(--bg-dark);
            font-size: 0.95rem;
            font-weight: 600;
            cursor: none;
            transition: all 0.3s ease;
            font-family: 'Montserrat', sans-serif;
        }
        
        .profile-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.4);
        }
        
        .profile-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--bg-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-color);
        }
        
        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: rgba(26, 26, 26, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            overflow: hidden;
            min-width: 200px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 1000;
        }
        
        .dropdown-menu.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s ease;
            font-family: 'Montserrat', sans-serif;
        }
        
        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }
        
        .dropdown-item i {
            width: 16px;
            text-align: center;
        }
        
        .dropdown-divider {
            height: 1px;
            background: var(--border-subtle);
            margin: 0.5rem 0;
        }
        
        /* Loading Screen - Updated to match first code exactly */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: var(--bg-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            transition: opacity 0.5s ease-out;
        }
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .loading-container {
            text-align: center;
            position: relative;
            width: 100%;
            max-width: 500px;
        }
        .loading-animation {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .loading-icon {
            font-size: 3rem;
            color: var(--accent-color);
            animation: pulse-grow 1.5s ease-in-out infinite;
            position: relative;
            z-index: 1;
        }
        .loading-circle {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: var(--accent-color);
            transform: rotate(0deg);
            animation: spin 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
        }
        .loading-circle::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: var(--accent-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px var(--accent-color);
        }
        .loading-circle-alt {
            position: absolute;
            width: 80%;
            height: 80%;
            border-radius: 50%;
            border: 3px solid transparent;
            border-bottom-color: var(--accent-pink);
            transform: rotate(0deg) scale(0.8);
            animation: spin-reverse 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
        }
        .loading-text h2 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
            font-family: 'Montserrat', sans-serif;
        }
        .loading-text p {
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 2rem;
            font-size: 1.2rem;
            font-family: 'Montserrat', sans-serif;
        }
        .loading-progress {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .loading-bar {
            width: 8px;
            height: 30px;
            background: var(--primary-gradient);
            border-radius: 4px;
            animation: loadingPulse 1.4s ease-in-out infinite;
        }
        .loading-bar:nth-child(2) {
            animation-delay: 0.2s;
            background: var(--secondary-gradient);
        }
        .loading-bar:nth-child(3) {
            animation-delay: 0.4s;
            background: var(--accent-gradient);
        }
        .loading-bar:nth-child(4) {
            animation-delay: 0.6s;
            background: var(--primary-gradient);
        }
        .loading-bar:nth-child(5) {
            animation-delay: 0.8s;
            background: var(--secondary-gradient);
        }
        
        /* Main Plan Selector Styles */
        .plan-selector {
            padding: 120px 0 80px;
            min-height: 100vh;
            text-align: center;
        }
        .plan-selector h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 20px;
            text-transform: uppercase;
            animation: fadeInDown 1s ease-out;
        }
        .plan-selector p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 40px;
            animation: fadeInUp 1s ease-out 0.3s both;
        }
        .goal-selection-container {
            background: rgba(25, 25, 25, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-subtle);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto 50px;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.05);
            animation: fadeInUp 1s ease-out 0.6s both;
            position: relative;
            overflow: visible;
            transform-style: preserve-3d;
            transition: transform 0.4s ease, box-shadow 0.4s ease, border-color 0.4s ease;
        }
        .goal-selection-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }
        .goal-selection-container:hover::before {
            opacity: 0.3;
            animation: hover-glow 3s infinite alternate;
        }
        .goal-selection-container:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.1);
            border-color: rgba(0, 255, 255, 0.3);
        }
        .input-group {
            text-align: left;
            margin-bottom: 20px;
            animation: slide-up 0.6s ease-out;
            animation-fill-mode: both;
            position: relative;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
        }
        .input-group:nth-child(1) { animation-delay: 0.1s; }
        .input-group:nth-child(2) { animation-delay: 0.2s; }
        .input-group:nth-child(3) { animation-delay: 0.3s; }
        .input-group:nth-child(4) { animation-delay: 0.4s; }
        .input-group:nth-child(5) { animation-delay: 0.5s; }
        .input-group:nth-child(6) { animation-delay: 0.6s; }
        .input-group:nth-child(7) { animation-delay: 0.7s; }
        .input-group:nth-child(8) { animation-delay: 0.8s; }
        .input-group:nth-child(9) { animation-delay: 0.9s; }
        .input-group:nth-child(10) { animation-delay: 1.0s; }
        .input-group:nth-child(11) { animation-delay: 1.1s; }
        .input-group:nth-child(12) { animation-delay: 1.2s; }
        
        .input-group:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.1);
        }
        
        .input-group.error {
            border: 2px solid var(--error-color);
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.5);
            animation: error-glow 0.5s ease-in-out;
        }
        
        .input-group label {
            font-family: 'Roboto Condensed', sans-serif;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .input-group select,
        .input-group input[type="number"],
        .input-group input[type="text"],
        .input-group textarea {
            width: 100%;
            padding: 12px 20px;
            font-size: 1rem;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            appearance: none;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }
        .input-group select:hover,
        .input-group input[type="number"]:hover,
        .input-group input[type="text"]:hover,
        .input-group textarea:hover {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
            transform: scale(1.02);
        }
        .input-group select:focus,
        .input-group input[type="number"]:focus,
        .input-group input[type="text"]:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.7);
            transform: scale(1.03);
        }
        .input-group.error label {
            color: var(--error-color);
        }
        .input-group.error input,
        .input-group.error select,
        .input-group.error textarea {
            border-color: var(--error-color);
            box-shadow: 0 0 15px rgba(255, 77, 77, 0.5);
        }
        .error-message {
            color: var(--error-color);
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        .input-group.error .error-message {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }
        .input-group select {
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23EFEFEF%22%20d%3D%22M287%20117.8c-3.2-3.2-8.3-3.2-11.6%200L146.2%20247.1%2016.9%20117.8c-3.2-3.2-8.3-3.2-11.6%200-3.2%203.2-3.2%208.3%200%2011.6l135.5%20135.5c3.2%203.2%208.3%203.2%2011.6%200l135.5-135.5c3.2-3.2%203.2-8.3%200-11.6z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px;
        }
        .height-inputs {
            display: flex;
            gap: 10px;
        }
        .height-inputs input {
            width: 50%;
        }
        .input-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        /* Enhanced Dietary Options Styles */
        .dietary-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .dietary-option-container {
            position: relative;
            z-index: 1;
        }
        
        .dietary-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            padding: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            height: 60px;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        
        .dietary-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--primary-gradient);
            opacity: 0.2;
            transition: width 0.5s ease;
            z-index: 0;
            transform-origin: left;
        }
        
        .dietary-option:hover {
            border-color: var(--accent-color);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
        }
        
        .dietary-option:hover::before {
            width: 100%;
        }
        
        .dietary-option input[type="checkbox"] {
            display: none;
        }
        
        .dietary-option label {
            margin: 0;
            cursor: pointer;
            font-size: 0.95rem;
            text-transform: none;
            letter-spacing: normal;
            color: var(--text-primary);
            font-weight: 500;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            text-align: center;
            flex-grow: 1;
        }
        
        .dietary-option.selected {
            border-color: var(--accent-color);
            background-color: rgba(0, 255, 255, 0.1);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
            animation: pulse-glow 2s infinite;
        }
        
        .dietary-option.selected::before {
            width: 100%;
        }
        
        .dietary-option.selected label {
            color: var(--accent-color);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        /* Dietary Toggle Block - Enhanced for easier clicking */
        .dietary-toggle-block {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            font-size: 1rem;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            transform: rotate(0deg);
            margin-left: 10px;
            flex-shrink: 0;
        }
        
        .dietary-toggle-block:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .dietary-option.selected .dietary-toggle-block {
            transform: rotate(180deg);
        }
        
        .dietary-option.selected .dietary-toggle-block:hover {
            transform: rotate(180deg) scale(1.1);
        }
        
        /* Dietary Sub-options Styles */
        .dietary-sub-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 15px;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border: 1px solid var(--border-subtle);
            display: none;
            position: relative;
            top: auto;
            left: auto;
            right: auto;
            z-index: 10;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, opacity 0.5s ease, transform 0.5s ease;
            opacity: 0;
            transform: translateY(-10px);
        }
        
        .dietary-sub-options.active {
            display: grid;
            max-height: 500px;
            overflow-y: auto;
            opacity: 1;
            transform: translateY(0);
            animation: slideDown 0.5s ease forwards;
        }
        
        .dietary-sub-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            padding: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            height: 50px;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        
        .dietary-sub-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--secondary-gradient);
            opacity: 0.2;
            transition: width 0.5s ease;
            z-index: 0;
            transform-origin: left;
        }
        
        .dietary-sub-option:hover {
            border-color: var(--accent-orange);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
        }
        
        .dietary-sub-option:hover::before {
            width: 100%;
        }
        
        .dietary-sub-option input[type="checkbox"] {
            display: none;
        }
        
        .dietary-sub-option label {
            margin: 0;
            cursor: pointer;
            font-size: 0.9rem;
            text-transform: none;
            letter-spacing: normal;
            color: var(--text-primary);
            font-weight: 500;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .dietary-sub-option.selected {
            border-color: var(--accent-orange);
            background-color: rgba(255, 107, 53, 0.1);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
            animation: pulse-glow-sub 2s infinite;
        }
        
        .dietary-sub-option.selected label {
            color: var(--accent-orange);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
        }
        
        /* Health restriction style - Enhanced */
        .dietary-sub-option.health-restriction {
            border: 4px solid var(--health-restriction-border);
            background-color: var(--health-restriction-bg);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.7), inset 0 0 20px rgba(255, 0, 0, 0.3);
            animation: health-restriction-pulse 2s infinite;
            height: auto;
            min-height: 90px;
            max-height: 130px;
            padding: 15px 12px;
            position: relative;
            overflow: visible;
            z-index: 20;
            transform: scale(1.02);
        }
        
        .dietary-sub-option.health-restriction::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255, 0, 0, 0.2) 10px,
                rgba(255, 0, 0, 0.2) 20px
            );
            z-index: 0;
            border-radius: 9px;
            animation: health-restriction-bg-pulse 3s infinite;
        }
        
        .dietary-sub-option.health-restriction::after {
            content: '\f071'; /* Warning icon from Font Awesome */
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            position: absolute;
            top: -15px;
            right: -15px;
            background-color: var(--health-restriction-color);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            z-index: 2;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.9);
            animation: warning-icon-pulse 1.5s infinite;
        }
        
        .dietary-sub-option.health-restriction label {
            color: var(--health-restriction-color);
            font-weight: 800;
            text-shadow: 0 0 12px rgba(255, 0, 0, 1);
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
            font-size: 0.95rem;
        }
        
        .health-restriction-desc {
            font-size: 0.85rem;
            color: var(--health-restriction-color);
            margin-top: 8px;
            text-align: center;
            padding: 8px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 8px;
            border: 2px dashed rgba(255, 0, 0, 0.7);
            width: 100%;
            position: relative;
            z-index: 1;
            line-height: 1.3;
            font-weight: 600;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
            max-height: 60px;
            overflow-y: auto;
        }
        
        /* Health warning message */
        .health-warning-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #2c0505, #4a0909);
            border: 3px solid #ff0000;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 0 40px rgba(255, 0, 0, 0.8), inset 0 0 20px rgba(255, 0, 0, 0.3);
            z-index: 10000;
            max-width: 450px;
            text-align: center;
            animation: warning-message-appear 0.5s ease-out;
        }
        
        .health-warning-message h3 {
            color: #ff4d4d;
            font-size: 1.5rem;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 800;
            text-shadow: 0 0 10px rgba(255, 77, 77, 0.8);
        }
        
        .health-warning-message p {
            color: #ffffff;
            font-size: 1rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .health-warning-message button {
            background: linear-gradient(135deg, #ff4d4d, #cc0000);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 10px 25px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.5);
        }
        
        .health-warning-message button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 0, 0, 0.7);
        }
        
        /* Body Type Options Styles with Images - Updated */
        .body-type-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 10px;
        }
        
        .body-type-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            padding: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        
        .body-type-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--accent-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 0;
        }
        
        .body-type-option:hover {
            border-color: var(--accent-pink);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
        }
        
        .body-type-option:hover::before {
            opacity: 0.1;
        }
        
        .body-type-option input[type="radio"] {
            display: none;
        }
        
        .body-type-option.selected {
            border-color: var(--accent-pink);
            background-color: rgba(247, 37, 133, 0.1);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
        }
        
        .body-type-option.selected::before {
            opacity: 0.2;
        }
        
        .body-type-option .body-model {
            width: 150px;
            height: 200px;
            margin-bottom: 5px;
            position: relative;
            z-index: 1;
            object-fit: cover;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .body-type-option:hover .body-model {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(247, 37, 133, 0.5);
        }
        
        .body-type-option span {
            font-size: 0.9rem;
            color: var(--text-primary);
            text-align: center;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .body-type-option.selected span {
            color: var(--accent-pink);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(247, 37, 133, 0.5);
        }
        
        /* Health Issues Options Styles */
        .health-issues-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 15px;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border: 1px solid var(--border-subtle);
            display: none;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, opacity 0.5s ease, transform 0.5s ease;
            opacity: 0;
            transform: translateY(-10px);
            z-index: 5;
        }
        
        .health-issues-options.active {
            display: grid;
            max-height: 600px;
            overflow-y: auto;
            opacity: 1;
            transform: translateY(0);
            animation: slideDown 0.5s ease forwards;
        }
        
        .health-issue-option {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            padding: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            height: 50px;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        
        .health-issue-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--danger-color);
            opacity: 0.2;
            transition: width 0.5s ease;
            z-index: 0;
            transform-origin: left;
        }
        
        .health-issue-option:hover {
            border-color: var(--danger-color);
            box-shadow: 0 8px 25px rgba(255, 77, 77, 0.3);
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
        }
        
        .health-issue-option:hover::before {
            width: 100%;
        }
        
        .health-issue-option input[type="checkbox"] {
            display: none;
        }
        
        .health-issue-option label {
            margin: 0;
            cursor: pointer;
            font-size: 0.9rem;
            text-transform: none;
            letter-spacing: normal;
            color: var(--text-primary);
            font-weight: 500;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .health-issue-option.selected {
            border-color: var(--danger-color);
            background-color: rgba(255, 77, 77, 0.1);
            box-shadow: 0 8px 25px rgba(255, 77, 77, 0.3);
        }
        
        .health-issue-option.selected label {
            color: var(--danger-color);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(255, 77, 77, 0.5);
        }
        
        /* Equipment Options Styles */
        .equipment-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .equipment-option {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            padding: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            height: 60px;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        
        .equipment-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--primary-gradient);
            opacity: 0.2;
            transition: width 0.5s ease;
            z-index: 0;
            transform-origin: left;
        }
        
        .equipment-option:hover {
            border-color: var(--accent-color);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
        }
        
        .equipment-option:hover::before {
            width: 100%;
        }
        
        .equipment-option input[type="checkbox"] {
            display: none;
        }
        
        .equipment-option label {
            margin: 0;
            cursor: pointer;
            font-size: 0.95rem;
            text-transform: none;
            letter-spacing: normal;
            color: var(--text-primary);
            font-weight: 500;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .equipment-option.selected {
            border-color: var(--accent-color);
            background-color: rgba(0, 255, 255, 0.1);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
            animation: pulse-glow 2s infinite;
        }
        
        .equipment-option.selected::before {
            width: 100%;
        }
        
        .equipment-option.selected label {
            color: var(--accent-color);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        
        /* Workout Mode Options Styles */
        .workout-mode-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .workout-mode-option {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-dark);
            border: 2px solid var(--border-subtle);
            border-radius: 12px;
            padding: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            height: 60px;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        
        .workout-mode-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--accent-gradient);
            opacity: 0.2;
            transition: width 0.5s ease;
            z-index: 0;
            transform-origin: left;
        }
        
        .workout-mode-option:hover {
            border-color: var(--accent-pink);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
        }
        
        .workout-mode-option:hover::before {
            width: 100%;
        }
        
        .workout-mode-option input[type="radio"] {
            display: none;
        }
        
        .workout-mode-option label {
            margin: 0;
            cursor: pointer;
            font-size: 0.95rem;
            text-transform: none;
            letter-spacing: normal;
            color: var(--text-primary);
            font-weight: 500;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .workout-mode-option.selected {
            border-color: var(--accent-pink);
            background-color: rgba(247, 37, 133, 0.1);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
        }
        
        .workout-mode-option.selected::before {
            opacity: 0.2;
        }
        
        .workout-mode-option.selected label {
            color: var(--accent-pink);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(247, 37, 133, 0.5);
        }
        
        /* Fitness Level Description */
        .fitness-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 10px;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            border-left: 3px solid var(--accent-color);
            transition: all 0.3s ease;
        }
        
        .fitness-description:hover {
            background-color: rgba(0, 255, 255, 0.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .fitness-level-item {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }
        
        .fitness-level-item:before {
            content: 'â€¢';
            position: absolute;
            left: 0;
            color: var(--accent-color);
        }
        
        /* Input Group Icons */
        .input-group-icon {
            font-size: 1.2rem;
            color: var(--accent-color);
            opacity: 0.8;
            transition: all 0.3s ease;
        }
        .input-group:hover .input-group-icon {
            opacity: 1;
            transform: scale(1.2);
        }
        .input-group:hover .input-group-icon.goal-icon {
            animation: icon-pulse 1.5s infinite;
        }
        .input-group:hover .input-group-icon.age-icon {
            animation: icon-bounce 1.5s infinite;
        }
        .input-group:hover .input-group-icon.weight-icon {
            animation: icon-swing 1.5s infinite;
        }
        .input-group:hover .input-group-icon.height-icon {
            animation: icon-flip 1.5s infinite;
        }
        .input-group:hover .input-group-icon.fitness-icon {
            animation: icon-rotate 1.5s infinite;
        }
        .input-group:hover .input-group-icon.diet-icon {
            animation: icon-wobble 1.5s infinite;
        }
        
        .btn-primary {
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 700;
            padding: 14px 40px;
            border-radius: 9999px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid transparent;
            background-image: var(--primary-gradient);
            color: var(--bg-dark);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.4);
            border: none;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s ease 0.8s forwards;
            opacity: 0;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        .btn-primary:hover::before {
            left: 100%;
        }
        .btn-primary:hover {
            transform: translateY(-3px) perspective(500px) rotateX(5deg);
            box-shadow: 0 12px 30px rgba(0, 255, 255, 0.6);
        }
        .btn-primary:active {
            transform: translateY(0px) scale(0.98);
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.6);
        }
        #generated-plan {
            margin-top: 60px;
            text-align: left;
            animation: fadeIn 1s ease forwards;
        }
        .plan-section {
            background: rgba(25, 25, 25, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-subtle);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            transition: transform 0.4s ease, box-shadow 0.4s ease, border-color 0.4s ease;
            opacity: 0;
            transform: translateY(50px);
        }
        .plan-section.visible {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .plan-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }
        .plan-section:hover::before {
            opacity: 0.3;
            animation: hover-glow 3s infinite alternate;
        }
        .plan-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.2);
            border-color: rgba(0, 255, 255, 0.5);
        }
        .plan-section h2 {
            font-family: 'Roboto Condensed', sans-serif;
            font-size: 2rem;
            color: var(--accent-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid var(--border-subtle);
            padding-bottom: 15px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .plan-section h2 i {
            animation: icon-float 3s ease-in-out infinite;
        }
        .section-logo {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem;
            color: var(--accent-color);
            opacity: 0.3;
            transition: all 0.5s ease;
            z-index: 1;
            animation: float 4s ease-in-out infinite;
        }
        .plan-section:hover .section-logo {
            opacity: 0.9;
            transform: scale(1.3) rotate(15deg);
            filter: drop-shadow(0 0 20px var(--accent-color));
            animation: pulse-logo 1.5s ease-in-out infinite;
        }
        .day-plan {
            margin-bottom: 30px;
            border-left: 3px solid var(--accent-color);
            padding-left: 20px;
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .day-plan.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .day-plan h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .day-plan h3 i {
            color: var(--accent-color);
        }
        .workout-item {
            display: flex;
            align-items: center;
            gap: 20px;
            background-color: var(--bg-dark);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            position: relative;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        .workout-item.visible {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .workout-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        .workout-item:hover::before {
            left: 100%;
        }
        .workout-item:hover {
            transform: translateX(10px) perspective(500px) rotateX(5deg);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
            border-left: 3px solid var(--accent-color);
        }
        .workout-icon {
            font-size: 2.5rem;
            color: var(--accent-color);
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        .workout-item:hover .workout-icon {
            opacity: 1;
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px var(--accent-color));
        }
        .workout-details {
            flex-grow: 1;
        }
        .workout-details h4 {
            font-size: 1.25rem;
            margin-bottom: 5px;
            color: var(--text-primary);
        }
        .workout-details p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0;
        }
        .diet-item {
            background-color: var(--bg-dark);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            position: relative;
            transform: perspective(500px) rotateX(0);
            transform-style: preserve-3d;
        }
        .diet-item.visible {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .diet-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        .diet-item:hover::before {
            left: 100%;
        }
        .diet-item:hover {
            transform: translateY(-5px) perspective(500px) rotateX(5deg);
            box-shadow: 0 10px 20px rgba(0, 255, 255, 0.3);
            border-left: 3px solid var(--accent-color);
        }
        .diet-item h3 {
            font-size: 1.25rem;
            margin-bottom: 5px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .diet-item h3 i {
            color: var(--accent-color);
            animation: icon-float 3s ease-in-out infinite;
        }
        
        /* Enhanced Animations */
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 5px var(--accent-color); }
            50% { box-shadow: 0 0 20px var(--accent-color), 0 0 30px var(--accent-color); }
            100% { box-shadow: 0 0 5px var(--accent-color); }
        }
        
        @keyframes pulse-glow-sub {
            0% { box-shadow: 0 0 5px var(--accent-orange); }
            50% { box-shadow: 0 0 20px var(--accent-orange), 0 0 30px var(--accent-orange); }
            100% { box-shadow: 0 0 5px var(--accent-orange); }
        }
        
        @keyframes health-restriction-pulse {
            0% { 
                box-shadow: 0 0 15px var(--health-restriction-color), 
                           0 0 30px var(--health-restriction-color),
                           inset 0 0 15px rgba(255, 0, 0, 0.3);
                transform: scale(1.02);
            }
            50% { 
                box-shadow: 0 0 30px var(--health-restriction-color), 
                           0 0 50px var(--health-restriction-color),
                           inset 0 0 25px rgba(255, 0, 0, 0.5);
                transform: scale(1.05);
            }
            100% { 
                box-shadow: 0 0 15px var(--health-restriction-color), 
                           0 0 30px var(--health-restriction-color),
                           inset 0 0 15px rgba(255, 0, 0, 0.3);
                transform: scale(1.02);
            }
        }
        
        @keyframes health-restriction-bg-pulse {
            0% { opacity: 0.2; }
            50% { opacity: 0.4; }
            100% { opacity: 0.2; }
        }
        
        @keyframes warning-icon-pulse {
            0% { 
                transform: scale(1); 
                box-shadow: 0 0 20px rgba(255, 0, 0, 0.9);
            }
            50% { 
                transform: scale(1.3); 
                box-shadow: 0 0 30px rgba(255, 0, 0, 1);
            }
            100% { 
                transform: scale(1); 
                box-shadow: 0 0 20px rgba(255, 0, 0, 0.9);
            }
        }
        
        @keyframes warning-message-appear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes spin-reverse {
            from { transform: rotate(0deg) scale(0.8); }
            to { transform: rotate(-360deg) scale(0.8); }
        }
        @keyframes pulse-grow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        @keyframes loadingPulse {
            0%, 100% { transform: scaleY(0.5); }
            50% { transform: scaleY(1); }
        }
        @keyframes smash {
            0% {
                transform: translate(0, 0) scale(1) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0) rotate(720deg);
                opacity: 0;
            }
        }
        @keyframes glassBreak {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            50% {
                transform: scale(1);
                opacity: 0.8;
            }
            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }
        @keyframes shardFly {
            0% {
                transform: translate(0, 0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) rotate(var(--rotation));
                opacity: 0;
            }
        }
        @keyframes float-particle {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.4;
            }
            90% {
                opacity: 0.4;
            }
            100% {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }
        @keyframes float-icon {
            0%, 100% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0.2;
            }
            25% {
                transform: translateY(-20px) translateX(10px) rotate(10deg);
                opacity: 0.3;
            }
            50% {
                transform: translateY(0) translateX(20px) rotate(0deg);
                opacity: 0.2;
            }
            75% {
                transform: translateY(20px) translateX(10px) rotate(-10deg);
                opacity: 0.3;
            }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes slide-up {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideDown {
            from { 
                max-height: 0;
                opacity: 0;
                transform: translateY(-10px);
            }
            to { 
                max-height: 600px;
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        @keyframes hover-glow {
            from { opacity: 0; }
            to { opacity: 0.3; }
        }
        @keyframes icon-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        @keyframes icon-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        @keyframes icon-swing {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }
        @keyframes icon-flip {
            0%, 100% { transform: rotateY(0deg); }
            50% { transform: rotateY(180deg); }
        }
        @keyframes icon-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes icon-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes icon-wobble {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }
        @keyframes pulse-logo {
            0%, 100% { transform: scale(1.3) rotate(15deg); }
            50% { transform: scale(1.4) rotate(20deg); }
        }
        @keyframes icon-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        @keyframes error-glow {
            0% { box-shadow: 0 0 5px rgba(255, 77, 77, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 77, 77, 0.8); }
            100% { box-shadow: 0 0 5px rgba(255, 77, 77, 0.5); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .plan-selector h1 {
                font-size: 2.5rem;
            }
            .plan-selector p {
                font-size: 1rem;
            }
            .workout-item {
                flex-direction: column;
                text-align: center;
            }
            .height-inputs {
                flex-direction: column;
            }
            .height-inputs input {
                width: 100%;
            }
            .dropdown-menu {
                right: 0;
                left: auto;
            }
            .dietary-options {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
            .dietary-sub-options {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
            .body-type-options {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
            .health-issues-options {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
            .equipment-options {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            .workout-mode-options {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
            .dietary-sub-option.health-restriction {
                min-height: 110px;
                max-height: 150px;
            }
            .health-warning-message {
                max-width: 90%;
                padding: 20px;
            }
            .health-warning-message h3 {
                font-size: 1.3rem;
            }
            .health-warning-message p {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div id="loading-screen" class="loading-screen">
        <div class="loading-container">
            <div class="loading-animation">
                <div class="loading-circle"></div>
                <div class="loading-circle-alt"></div>
                <i class="fas fa-dumbbell loading-icon"></i>
            </div>
            <div class="loading-text">
                <h2>ELITE PERFORMANCE</h2>
                <p>"Champions are made when nobody's watching"</p>
            </div>
            <div class="loading-progress">
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
            </div>
        </div>
    </div>
    
    <div class="smash-container"></div>
    <div class="particles-container"></div>
    <div class="floating-icons-container"></div>
    <div class="custom-cursor"><i class="fas fa-dumbbell dumbbell-cursor"></i></div>
    <header>
        <div class="container">
            <a href="plan.html" class="logo">
                <i class="fas fa-dumbbell logo-icon"></i>
                ELITE
            </a>
            
            <!-- Enhanced Profile Dropdown - Updated to match first code -->
            <div class="profile-dropdown">
                <button class="profile-btn" id="profileBtn">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span id="userName">Athlete</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="dropdown-menu" id="profileDropdown">
                    <div class="dropdown-divider"></div>
                    <a href="index.html" class="dropdown-item" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </header>
    <section class="plan-selector">
        <div class="container">
            <h1 class="gradient-text" id="program-title">Athletic Training Plan Generator</h1>
            <p id="program-description">Develop power, skills, and mental toughness for your chosen sport.</p>
            <div class="goal-selection-container">
                <div class="input-group" id="age-group">
                    <label for="age">
                        <i class="fas fa-calendar-alt input-group-icon age-icon"></i>
                        Your Age:
                    </label>
                    <input type="number" id="age" placeholder="Enter your age" required>
                    <div class="error-message">Please enter a valid age</div>
                </div>
                
                <div class="input-group" id="weight-group">
                    <label for="weight">
                        <i class="fas fa-weight input-group-icon weight-icon"></i>
                        Your Weight (kg):
                    </label>
                    <input type="number" id="weight" placeholder="Enter your weight" required>
                    <div class="error-message">Please enter a valid weight</div>
                </div>
                
                <div class="input-group" id="body-type-group">
                    <label>
                        <i class="fas fa-user input-group-icon"></i>
                        Select Your Body Type:
                    </label>
                    <div class="body-type-options">
                        <div class="body-type-option" data-type="ectomorph">
                            <input type="radio" id="ectomorph" name="body-type" value="ectomorph">
                            <img class="body-model" src="lean.jpg.png" alt="Lean">
                            <span>Lean</span>
                        </div>
                        <div class="body-type-option" data-type="mesomorph">
                            <input type="radio" id="mesomorph" name="body-type" value="mesomorph">
                            <img class="body-model" src="muscular.jpg.png" alt="Muscular">
                            <span>Muscular</span>
                        </div>
                        <div class="body-type-option" data-type="endomorph">
                            <input type="radio" id="endomorph" name="body-type" value="endomorph">
                            <img class="body-model" src="stocky.jpg.png" alt="Stocky">
                            <span>Stocky</span>
                        </div>
                        <div class="body-type-option" data-type="athletic">
                            <input type="radio" id="athletic" name="body-type" value="athletic">
                            <img class="body-model" src="athletic.jpg.png" alt="Athletic">
                            <span>Athletic</span>
                        </div>
                        <div class="body-type-option" data-type="overweight">
                            <input type="radio" id="overweight" name="body-type" value="overweight">
                            <img class="body-model" src="overweight.jpg.png" alt="Overweight">
                            <span>Overweight</span>
                        </div>
                        <div class="body-type-option" data-type="obese">
                            <input type="radio" id="obese" name="body-type" value="obese">
                            <img class="body-model" src="obese.jpg.png" alt="Obese">
                            <span>Obese</span>
                        </div>
                    </div>
                    <div class="error-message">Please select a body type</div>
                </div>
                
                <div class="input-group" id="height-group">
                    <label>
                        <i class="fas fa-ruler-vertical input-group-icon height-icon"></i>
                        Your Height:
                    </label>
                    <div class="height-inputs">
                        <input type="number" id="height-ft" placeholder="Feet (e.g., 5)" required>
                        <input type="number" id="height-in" placeholder="Inches (e.g., 10)" required>
                    </div>
                    <div class="error-message">Please enter a valid height</div>
                </div>
                
                <div class="input-group" id="sport-group">
                    <label for="sport-selection">
                        <i class="fas fa-running input-group-icon fitness-icon"></i>
                        Select Your Sport:
                    </label>
                    <select id="sport-selection">
                        <option value="boxer">Boxing</option>
                        <option value="sprinter">Sprinting</option>
                        <option value="bodybuilder">Bodybuilding</option>
                        <option value="swimmer" selected>Swimming</option>
                        <option value="gymnast">Gymnastics</option>
                        <option value="cricket">Cricket</option>
                        <option value="basketball">Basketball</option>
                        <option value="football">Football</option>
                        <option value="tennis">Tennis</option>
                        <option value="volleyball">Volleyball</option>
                        <option value="athletics">Athletics</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="input-group" id="other-sport-group" style="display: none;">
                    <label for="other-sport">
                        <i class="fas fa-running input-group-icon fitness-icon"></i>
                        Specify Your Sport:
                    </label>
                    <input type="text" id="other-sport" placeholder="Enter your sport">
                    <div class="error-message">Please enter a valid sport</div>
                </div>
                
                <div class="input-group" id="fitness-group">
                    <label for="fitness-level">
                        <i class="fas fa-chart-line input-group-icon fitness-icon"></i>
                        Your Fitness Level:
                    </label>
                    <select id="fitness-level">
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <div class="fitness-description">
                        <div class="fitness-level-item"><strong>Beginner:</strong> Less than 6 months of consistent training</div>
                        <div class="fitness-level-item">Learning basic exercises</div>
                        <div class="fitness-level-item">Building a foundation</div>
                        
                        <div class="fitness-level-item"><strong>Intermediate:</strong> 6 months to 2 years of consistent training</div>
                        <div class="fitness-level-item">Good form on basic exercises</div>
                        <div class="fitness-level-item">Can handle moderate intensity workouts</div>
                        
                        <div class="fitness-level-item"><strong>Advanced:</strong> More than 2 years of consistent training</div>
                        <div class="fitness-level-item">Excellent technique</div>
                        <div class="fitness-level-item">Can handle high intensity workouts</div>
                    </div>
                </div>
                
                <div class="input-group" id="goal-group">
                    <label for="primary-goal">
                        <i class="fas fa-bullseye input-group-icon goal-icon"></i>
                        Primary Goal:
                    </label>
                    <select id="primary-goal">
                        <!-- Options will be populated based on sport selection -->
                    </select>
                </div>
                
                <div class="input-group" id="equipment-group">
                    <label>
                        <i class="fas fa-tools input-group-icon"></i>
                        What equipment do you have?
                    </label>
                    <div class="equipment-options">
                        <div class="equipment-option" data-value="Dumbbells">
                            <input type="checkbox" id="dumbbells" name="equipment" value="Dumbbells">
                            <label for="dumbbells">Dumbbells</label>
                        </div>
                        <div class="equipment-option" data-value="Barbell">
                            <input type="checkbox" id="barbell" name="equipment" value="Barbell">
                            <label for="barbell">Barbell</label>
                        </div>
                        <div class="equipment-option" data-value="Resistance Bands">
                            <input type="checkbox" id="resistance-bands" name="equipment" value="Resistance Bands">
                            <label for="resistance-bands">Resistance Bands</label>
                        </div>
                        <div class="equipment-option" data-value="Kettlebell">
                            <input type="checkbox" id="kettlebell" name="equipment" value="Kettlebell">
                            <label for="kettlebell">Kettlebell</label>
                        </div>
                        <div class="equipment-option" data-value="Pull-up Bar">
                            <input type="checkbox" id="pull-up-bar" name="equipment" value="Pull-up Bar">
                            <label for="pull-up-bar">Pull-up Bar</label>
                        </div>
                        <div class="equipment-option" data-value="Medicine Ball">
                            <input type="checkbox" id="medicine-ball" name="equipment" value="Medicine Ball">
                            <label for="medicine-ball">Medicine Ball</label>
                        </div>
                        <div class="equipment-option" data-value="Treadmill">
                            <input type="checkbox" id="treadmill" name="equipment" value="Treadmill">
                            <label for="treadmill">Treadmill</label>
                        </div>
                        <div class="equipment-option" data-value="Exercise Bike">
                            <input type="checkbox" id="exercise-bike" name="equipment" value="Exercise Bike">
                            <label for="exercise-bike">Exercise Bike</label>
                        </div>
                        <div class="equipment-option" data-value="Rowing Machine">
                            <input type="checkbox" id="rowing-machine" name="equipment" value="Rowing Machine">
                            <label for="rowing-machine">Rowing Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Elliptical Trainer">
                            <input type="checkbox" id="elliptical-trainer" name="equipment" value="Elliptical Trainer">
                            <label for="elliptical-trainer">Elliptical Trainer</label>
                        </div>
                        <div class="equipment-option" data-value="Stair Climber">
                            <input type="checkbox" id="stair-climber" name="equipment" value="Stair Climber">
                            <label for="stair-climber">Stair Climber</label>
                        </div>
                        <div class="equipment-option" data-value="Smith Machine">
                            <input type="checkbox" id="smith-machine" name="equipment" value="Smith Machine">
                            <label for="smith-machine">Smith Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Cable Machine">
                            <input type="checkbox" id="cable-machine" name="equipment" value="Cable Machine">
                            <label for="cable-machine">Cable Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Leg Press Machine">
                            <input type="checkbox" id="leg-press-machine" name="equipment" value="Leg Press Machine">
                            <label for="leg-press-machine">Leg Press Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Chest Press Machine">
                            <input type="checkbox" id="chest-press-machine" name="equipment" value="Chest Press Machine">
                            <label for="chest-press-machine">Chest Press Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Lat Pulldown Machine">
                            <input type="checkbox" id="lat-pulldown-machine" name="equipment" value="Lat Pulldown Machine">
                            <label for="lat-pulldown-machine">Lat Pulldown Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Leg Curl Machine">
                            <input type="checkbox" id="leg-curl-machine" name="equipment" value="Leg Curl Machine">
                            <label for="leg-curl-machine">Leg Curl Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Leg Extension Machine">
                            <input type="checkbox" id="leg-extension-machine" name="equipment" value="Leg Extension Machine">
                            <label for="leg-extension-machine">Leg Extension Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Shoulder Press Machine">
                            <input type="checkbox" id="shoulder-press-machine" name="equipment" value="Shoulder Press Machine">
                            <label for="shoulder-press-machine">Shoulder Press Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Bicep Curl Machine">
                            <input type="checkbox" id="bicep-curl-machine" name="equipment" value="Bicep Curl Machine">
                            <label for="bicep-curl-machine">Bicep Curl Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Tricep Extension Machine">
                            <input type="checkbox" id="tricep-extension-machine" name="equipment" value="Tricep Extension Machine">
                            <label for="tricep-extension-machine">Tricep Extension Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Abdominal Crunch Machine">
                            <input type="checkbox" id="abdominal-crunch-machine" name="equipment" value="Abdominal Crunch Machine">
                            <label for="abdominal-crunch-machine">Abdominal Crunch Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Back Extension Machine">
                            <input type="checkbox" id="back-extension-machine" name="equipment" value="Back Extension Machine">
                            <label for="back-extension-machine">Back Extension Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Seated Row Machine">
                            <input type="checkbox" id="seated-row-machine" name="equipment" value="Seated Row Machine">
                            <label for="seated-row-machine">Seated Row Machine</label>
                        </div>
                        <div class="equipment-option" data-value="Power Rack">
                            <input type="checkbox" id="power-rack" name="equipment" value="Power Rack">
                            <label for="power-rack">Power Rack</label>
                        </div>
                        <div class="equipment-option" data-value="Squat Rack">
                            <input type="checkbox" id="squat-rack" name="equipment" value="Squat Rack">
                            <label for="squat-rack">Squat Rack</label>
                        </div>
                        <div class="equipment-option" data-value="Bench Press">
                            <input type="checkbox" id="bench-press" name="equipment" value="Bench Press">
                            <label for="bench-press">Bench Press</label>
                        </div>
                        <div class="equipment-option" data-value="Incline Bench">
                            <input type="checkbox" id="incline-bench" name="equipment" value="Incline Bench">
                            <label for="incline-bench">Incline Bench</label>
                        </div>
                        <div class="equipment-option" data-value="Decline Bench">
                            <input type="checkbox" id="decline-bench" name="equipment" value="Decline Bench">
                            <label for="decline-bench">Decline Bench</label>
                        </div>
                        <div class="equipment-option" data-value="Preacher Curl Bench">
                            <input type="checkbox" id="preacher-curl-bench" name="equipment" value="Preacher Curl Bench">
                            <label for="preacher-curl-bench">Preacher Curl Bench</label>
                        </div>
                        <div class="equipment-option" data-value="Hyperextension Bench">
                            <input type="checkbox" id="hyperextension-bench" name="equipment" value="Hyperextension Bench">
                            <label for="hyperextension-bench">Hyperextension Bench</label>
                        </div>
                        <div class="equipment-option" data-value="Dipping Station">
                            <input type="checkbox" id="dipping-station" name="equipment" value="Dipping Station">
                            <label for="dipping-station">Dipping Station</label>
                        </div>
                        <div class="equipment-option" data-value="Captain's Chair">
                            <input type="checkbox" id="captains-chair" name="equipment" value="Captain's Chair">
                            <label for="captains-chair">Captain's Chair</label>
                        </div>
                        <div class="equipment-option" data-value="Stability Ball">
                            <input type="checkbox" id="stability-ball" name="equipment" value="Stability Ball">
                            <label for="stability-ball">Stability Ball</label>
                        </div>
                        <div class="equipment-option" data-value="Foam Roller">
                            <input type="checkbox" id="foam-roller" name="equipment" value="Foam Roller">
                            <label for="foam-roller">Foam Roller</label>
                        </div>
                        <div class="equipment-option" data-value="Battle Ropes">
                            <input type="checkbox" id="battle-ropes" name="equipment" value="Battle Ropes">
                            <label for="battle-ropes">Battle Ropes</label>
                        </div>
                        <div class="equipment-option" data-value="TRX Suspension Trainer">
                            <input type="checkbox" id="trx-suspension-trainer" name="equipment" value="TRX Suspension Trainer">
                            <label for="trx-suspension-trainer">TRX Suspension Trainer</label>
                        </div>
                        <div class="equipment-option" data-value="Punching Bag">
                            <input type="checkbox" id="punching-bag" name="equipment" value="Punching Bag">
                            <label for="punching-bag">Punching Bag</label>
                        </div>
                        <div class="equipment-option" data-value="Speed Bag">
                            <input type="checkbox" id="speed-bag" name="equipment" value="Speed Bag">
                            <label for="speed-bag">Speed Bag</label>
                        </div>
                        <div class="equipment-option" data-value="Boxing Gloves">
                            <input type="checkbox" id="boxing-gloves" name="equipment" value="Boxing Gloves">
                            <label for="boxing-gloves">Boxing Gloves</label>
                        </div>
                        <div class="equipment-option" data-value="Jump Rope">
                            <input type="checkbox" id="jump-rope" name="equipment" value="Jump Rope">
                            <label for="jump-rope">Jump Rope</label>
                        </div>
                        <div class="equipment-option" data-value="Agility Ladder">
                            <input type="checkbox" id="agility-ladder" name="equipment" value="Agility Ladder">
                            <label for="agility-ladder">Agility Ladder</label>
                        </div>
                        <div class="equipment-option" data-value="Cones">
                            <input type="checkbox" id="cones" name="equipment" value="Cones">
                            <label for="cones">Cones</label>
                        </div>
                        <div class="equipment-option" data-value="Hurdles">
                            <input type="checkbox" id="hurdles" name="equipment" value="Hurdles">
                            <label for="hurdles">Hurdles</label>
                        </div>
                        <div class="equipment-option" data-value="Weight Plates">
                            <input type="checkbox" id="weight-plates" name="equipment" value="Weight Plates">
                            <label for="weight-plates">Weight Plates</label>
                        </div>
                        <div class="equipment-option" data-value="EZ Curl Bar">
                            <input type="checkbox" id="ez-curl-bar" name="equipment" value="EZ Curl Bar">
                            <label for="ez-curl-bar">EZ Curl Bar</label>
                        </div>
                        <div class="equipment-option" data-value="Trap Bar">
                            <input type="checkbox" id="trap-bar" name="equipment" value="Trap Bar">
                            <label for="trap-bar">Trap Bar</label>
                        </div>
                        <div class="equipment-option" data-value="Weight Belt">
                            <input type="checkbox" id="weight-belt" name="equipment" value="Weight Belt">
                            <label for="weight-belt">Weight Belt</label>
                        </div>
                        <div class="equipment-option" data-value="Lifting Straps">
                            <input type="checkbox" id="lifting-straps" name="equipment" value="Lifting Straps">
                            <label for="lifting-straps">Lifting Straps</label>
                        </div>
                        <div class="equipment-option" data-value="Wrist Wraps">
                            <input type="checkbox" id="wrist-wraps" name="equipment" value="Wrist Wraps">
                            <label for="wrist-wraps">Wrist Wraps</label>
                        </div>
                        <div class="equipment-option" data-value="Knee Sleeves">
                            <input type="checkbox" id="knee-sleeves" name="equipment" value="Knee Sleeves">
                            <label for="knee-sleeves">Knee Sleeves</label>
                        </div>
                        <div class="equipment-option" data-value="Ankle Weights">
                            <input type="checkbox" id="ankle-weights" name="equipment" value="Ankle Weights">
                            <label for="ankle-weights">Ankle Weights</label>
                        </div>
                        <div class="equipment-option" data-value="Weighted Vest">
                            <input type="checkbox" id="weighted-vest" name="equipment" value="Weighted Vest">
                            <label for="weighted-vest">Weighted Vest</label>
                        </div>
                        <div class="equipment-option" data-value="Parallettes">
                            <input type="checkbox" id="parallettes" name="equipment" value="Parallettes">
                            <label for="parallettes">Parallettes</label>
                        </div>
                        <div class="equipment-option" data-value="Yoga Mat">
                            <input type="checkbox" id="yoga-mat" name="equipment" value="Yoga Mat">
                            <label for="yoga-mat">Yoga Mat</label>
                        </div>
                        <div class="equipment-option" data-value="None">
                            <input type="checkbox" id="none" name="equipment" value="None">
                            <label for="none">None</label>
                        </div>
                    </div>
                    <div class="error-message">Please select at least one equipment</div>
                </div>
                
                <div class="input-group" id="workout-mode-group">
                    <label>
                        <i class="fas fa-cogs input-group-icon"></i>
                        Choose Workout Mode:
                    </label>
                    <div class="workout-mode-options">
                        <div class="workout-mode-option" data-value="Home">
                            <input type="radio" id="home" name="workout-mode" value="Home">
                            <label for="home">Home</label>
                        </div>
                        <div class="workout-mode-option" data-value="Gym">
                            <input type="radio" id="gym" name="workout-mode" value="Gym">
                            <label for="gym">Gym</label>
                        </div>
                        <div class="workout-mode-option" data-value="Outdoor">
                            <input type="radio" id="outdoor" name="workout-mode" value="Outdoor">
                            <label for="outdoor">Outdoor</label>
                        </div>
                    </div>
                    <div class="error-message">Please select a workout mode</div>
                </div>
                
                <div class="input-group" id="dietary-group">
                    <label>
                        <i class="fas fa-utensils input-group-icon diet-icon"></i>
                        Dietary Preferences / Restrictions:
                    </label>
                    <div class="dietary-options">
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Vegetarian">
                                <input type="checkbox" id="veg" name="dietary" value="Vegetarian">
                                <label for="veg">Vegetarian</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="veg-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="dairy">
                                    <input type="checkbox" id="avoid-dairy" name="avoid-food" value="dairy">
                                    <label for="avoid-dairy">Avoid Dairy</label>
                                </div>
                                <div class="dietary-sub-option" data-value="eggs">
                                    <input type="checkbox" id="avoid-eggs-veg" name="avoid-food" value="eggs">
                                    <label for="avoid-eggs-veg">Avoid Eggs</label>
                                </div>
                                <div class="dietary-sub-option" data-value="soy">
                                    <input type="checkbox" id="avoid-soy" name="avoid-food" value="soy">
                                    <label for="avoid-soy">Avoid Soy</label>
                                </div>
                                <div class="dietary-sub-option" data-value="gluten">
                                    <input type="checkbox" id="avoid-gluten" name="avoid-food" value="gluten">
                                    <label for="avoid-gluten">Avoid Gluten</label>
                                </div>
                                <div class="dietary-sub-option" data-value="beans">
                                    <input type="checkbox" id="avoid-beans" name="avoid-food" value="beans">
                                    <label for="avoid-beans">Avoid Beans</label>
                                </div>
                                <div class="dietary-sub-option" data-value="mushrooms">
                                    <input type="checkbox" id="avoid-mushrooms" name="avoid-food" value="mushrooms">
                                    <label for="avoid-mushrooms">Avoid Mushrooms</label>
                                </div>
                                <div class="dietary-sub-option" data-value="nightshades">
                                    <input type="checkbox" id="avoid-nightshades" name="avoid-food" value="nightshades">
                                    <label for="avoid-nightshades">Avoid Nightshades</label>
                                </div>
                                <div class="dietary-sub-option" data-value="cruciferous">
                                    <input type="checkbox" id="avoid-cruciferous" name="avoid-food" value="cruciferous">
                                    <label for="avoid-cruciferous">Avoid Cruciferous</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Non-Vegetarian">
                                <input type="checkbox" id="non-veg" name="dietary" value="Non-Vegetarian">
                                <label for="non-veg">Non-Vegetarian</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="non-veg-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="chicken">
                                    <input type="checkbox" id="avoid-chicken" name="avoid-food" value="chicken">
                                    <label for="avoid-chicken">Avoid Chicken</label>
                                </div>
                                <div class="dietary-sub-option" data-value="beef">
                                    <input type="checkbox" id="avoid-beef" name="avoid-food" value="beef">
                                    <label for="avoid-beef">Avoid Beef</label>
                                </div>
                                <div class="dietary-sub-option" data-value="pork">
                                    <input type="checkbox" id="avoid-pork" name="avoid-food" value="pork">
                                    <label for="avoid-pork">Avoid Pork</label>
                                </div>
                                <div class="dietary-sub-option" data-value="fish">
                                    <input type="checkbox" id="avoid-fish" name="avoid-food" value="fish">
                                    <label for="avoid-fish">Avoid Fish</label>
                                </div>
                                <div class="dietary-sub-option" data-value="eggs">
                                    <input type="checkbox" id="avoid-eggs" name="avoid-food" value="eggs">
                                    <label for="avoid-eggs">Avoid Eggs</label>
                                </div>
                                <div class="dietary-sub-option" data-value="shellfish">
                                    <input type="checkbox" id="avoid-shellfish" name="avoid-food" value="shellfish">
                                    <label for="avoid-shellfish">Avoid Shellfish</label>
                                </div>
                                <div class="dietary-sub-option" data-value="lamb">
                                    <input type="checkbox" id="avoid-lamb" name="avoid-food" value="lamb">
                                    <label for="avoid-lamb">Avoid Lamb</label>
                                </div>
                                <div class="dietary-sub-option" data-value="duck">
                                    <input type="checkbox" id="avoid-duck" name="avoid-food" value="duck">
                                    <label for="avoid-duck">Avoid Duck</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Vegan">
                                <input type="checkbox" id="vegan" name="dietary" value="Vegan">
                                <label for="vegan">Vegan</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="vegan-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="soy">
                                    <input type="checkbox" id="avoid-soy-vegan" name="avoid-food" value="soy">
                                    <label for="avoid-soy-vegan">Avoid Soy</label>
                                </div>
                                <div class="dietary-sub-option" data-value="gluten">
                                    <input type="checkbox" id="avoid-gluten-vegan" name="avoid-food" value="gluten">
                                    <label for="avoid-gluten-vegan">Avoid Gluten</label>
                                </div>
                                <div class="dietary-sub-option" data-value="nuts">
                                    <input type="checkbox" id="avoid-nuts" name="avoid-food" value="nuts">
                                    <label for="avoid-nuts">Avoid Nuts</label>
                                </div>
                                <div class="dietary-sub-option" data-value="seeds">
                                    <input type="checkbox" id="avoid-seeds" name="avoid-food" value="seeds">
                                    <label for="avoid-seeds">Avoid Seeds</label>
                                </div>
                                <div class="dietary-sub-option" data-value="legumes">
                                    <input type="checkbox" id="avoid-legumes" name="avoid-food" value="legumes">
                                    <label for="avoid-legumes">Avoid Legumes</label>
                                </div>
                                <div class="dietary-sub-option" data-value="avocado">
                                    <input type="checkbox" id="avoid-avocado" name="avoid-food" value="avocado">
                                    <label for="avoid-avocado">Avoid Avocado</label>
                                </div>
                                <div class="dietary-sub-option" data-value="coconut">
                                    <input type="checkbox" id="avoid-coconut" name="avoid-food" value="coconut">
                                    <label for="avoid-coconut">Avoid Coconut</label>
                                </div>
                                <div class="dietary-sub-option" data-value="processed">
                                    <input type="checkbox" id="avoid-processed" name="avoid-food" value="processed">
                                    <label for="avoid-processed">Avoid Processed Foods</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="High-Protein">
                                <input type="checkbox" id="high-protein" name="dietary" value="High-Protein">
                                <label for="high-protein">High-Protein</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="high-protein-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="red-meat">
                                    <input type="checkbox" id="avoid-red-meat" name="avoid-food" value="red-meat">
                                    <label for="avoid-red-meat">Avoid Red Meat</label>
                                </div>
                                <div class="dietary-sub-option" data-value="processed-meat">
                                    <input type="checkbox" id="avoid-processed-meat" name="avoid-food" value="processed-meat">
                                    <label for="avoid-processed-meat">Avoid Processed Meats</label>
                                </div>
                                <div class="dietary-sub-option" data-value="protein-powder">
                                    <input type="checkbox" id="avoid-protein-powder" name="avoid-food" value="protein-powder">
                                    <label for="avoid-protein-powder">Avoid Protein Powder</label>
                                </div>
                                <div class="dietary-sub-option" data-value="dairy">
                                    <input type="checkbox" id="avoid-dairy-protein" name="avoid-food" value="dairy">
                                    <label for="avoid-dairy-protein">Avoid Dairy Protein</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Low-Carb">
                                <input type="checkbox" id="low-carb" name="dietary" value="Low-Carb">
                                <label for="low-carb">Low-Carb</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="low-carb-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="sugar">
                                    <input type="checkbox" id="avoid-sugar-lowcarb" name="avoid-food" value="sugar">
                                    <label for="avoid-sugar-lowcarb">Avoid Sugar</label>
                                </div>
                                <div class="dietary-sub-option" data-value="refined-grains">
                                    <input type="checkbox" id="avoid-refined-grains" name="avoid-food" value="refined-grains">
                                    <label for="avoid-refined-grains">Avoid Refined Grains</label>
                                </div>
                                <div class="dietary-sub-option" data-value="starchy-vegetables">
                                    <input type="checkbox" id="avoid-starchy-vegetables" name="avoid-food" value="starchy-vegetables">
                                    <label for="avoid-starchy-vegetables">Avoid Starchy Vegetables</label>
                                </div>
                                <div class="dietary-sub-option" data-value="artificial-sweeteners">
                                    <input type="checkbox" id="avoid-artificial-sweeteners" name="avoid-food" value="artificial-sweeteners">
                                    <label for="avoid-artificial-sweeteners">Avoid Artificial Sweeteners</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Gluten-Free">
                                <input type="checkbox" id="gluten-free" name="dietary" value="Gluten-Free">
                                <label for="gluten-free">Gluten-Free</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="gluten-free-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="wheat">
                                    <input type="checkbox" id="avoid-wheat" name="avoid-food" value="wheat">
                                    <label for="avoid-wheat">Avoid Wheat</label>
                                </div>
                                <div class="dietary-sub-option" data-value="barley">
                                    <input type="checkbox" id="avoid-barley" name="avoid-food" value="barley">
                                    <label for="avoid-barley">Avoid Barley</label>
                                </div>
                                <div class="dietary-sub-option" data-value="rye">
                                    <input type="checkbox" id="avoid-rye" name="avoid-food" value="rye">
                                    <label for="avoid-rye">Avoid Rye</label>
                                </div>
                                <div class="dietary-sub-option" data-value="oats">
                                    <input type="checkbox" id="avoid-oats" name="avoid-food" value="oats">
                                    <label for="avoid-oats">Avoid Oats</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Dairy-Free">
                                <input type="checkbox" id="dairy-free" name="dietary" value="Dairy-Free">
                                <label for="dairy-free">Dairy-Free</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="dairy-free-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="milk">
                                    <input type="checkbox" id="avoid-milk" name="avoid-food" value="milk">
                                    <label for="avoid-milk">Avoid Milk</label>
                                </div>
                                <div class="dietary-sub-option" data-value="cheese">
                                    <input type="checkbox" id="avoid-cheese" name="avoid-food" value="cheese">
                                    <label for="avoid-cheese">Avoid Cheese</label>
                                </div>
                                <div class="dietary-sub-option" data-value="yogurt">
                                    <input type="checkbox" id="avoid-yogurt" name="avoid-food" value="yogurt">
                                    <label for="avoid-yogurt">Avoid Yogurt</label>
                                </div>
                                <div class="dietary-sub-option" data-value="butter">
                                    <input type="checkbox" id="avoid-butter" name="avoid-food" value="butter">
                                    <label for="avoid-butter">Avoid Butter</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Sugar-Free">
                                <input type="checkbox" id="sugar-free" name="dietary" value="Sugar-Free">
                                <label for="sugar-free">Sugar-Free</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="sugar-free-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="refined-sugar">
                                    <input type="checkbox" id="avoid-refined-sugar" name="avoid-food" value="refined-sugar">
                                    <label for="avoid-refined-sugar">Avoid Refined Sugar</label>
                                </div>
                                <div class="dietary-sub-option" data-value="artificial-sweeteners-sugar">
                                    <input type="checkbox" id="avoid-artificial-sweeteners-sugar" name="avoid-food" value="artificial-sweeteners">
                                    <label for="avoid-artificial-sweeteners-sugar">Avoid Artificial Sweeteners</label>
                                </div>
                                <div class="dietary-sub-option" data-value="high-fructose">
                                    <input type="checkbox" id="avoid-high-fructose" name="avoid-food" value="high-fructose">
                                    <label for="avoid-high-fructose">Avoid High Fructose</label>
                                </div>
                                <div class="dietary-sub-option" data-value="honey">
                                    <input type="checkbox" id="avoid-honey" name="avoid-food" value="honey">
                                    <label for="avoid-honey">Avoid Honey</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Keto">
                                <input type="checkbox" id="keto" name="dietary" value="Keto">
                                <label for="keto">Keto</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="keto-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="carbs">
                                    <input type="checkbox" id="avoid-carbs" name="avoid-food" value="carbs">
                                    <label for="avoid-carbs">Avoid Carbs</label>
                                </div>
                                <div class="dietary-sub-option" data-value="sugar-keto">
                                    <input type="checkbox" id="avoid-sugar-keto" name="avoid-food" value="sugar">
                                    <label for="avoid-sugar-keto">Avoid Sugar</label>
                                </div>
                                <div class="dietary-sub-option" data-value="starch">
                                    <input type="checkbox" id="avoid-starch" name="avoid-food" value="starch">
                                    <label for="avoid-starch">Avoid Starch</label>
                                </div>
                                <div class="dietary-sub-option" data-value="grains-keto">
                                    <input type="checkbox" id="avoid-grains-keto" name="avoid-food" value="grains">
                                    <label for="avoid-grains-keto">Avoid Grains</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dietary-option-container">
                            <div class="dietary-option" data-value="Paleo">
                                <input type="checkbox" id="paleo" name="dietary" value="Paleo">
                                <label for="paleo">Paleo</label>
                                <div class="dietary-toggle-block">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div id="paleo-sub-options" class="dietary-sub-options">
                                <div class="dietary-sub-option" data-value="grains-paleo">
                                    <input type="checkbox" id="avoid-grains-paleo" name="avoid-food" value="grains">
                                    <label for="avoid-grains-paleo">Avoid Grains</label>
                                </div>
                                <div class="dietary-sub-option" data-value="legumes-paleo">
                                    <input type="checkbox" id="avoid-legumes-paleo" name="avoid-food" value="legumes">
                                    <label for="avoid-legumes-paleo">Avoid Legumes</label>
                                </div>
                                <div class="dietary-sub-option" data-value="dairy-paleo">
                                    <input type="checkbox" id="avoid-dairy-paleo" name="avoid-food" value="dairy">
                                    <label for="avoid-dairy-paleo">Avoid Dairy</label>
                                </div>
                                <div class="dietary-sub-option" data-value="processed-paleo">
                                    <input type="checkbox" id="avoid-processed-paleo" name="avoid-food" value="processed">
                                    <label for="avoid-processed-paleo">Avoid Processed Foods</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="error-message">Please select at least one dietary preference</div>
                </div>
                
                <div class="input-group" id="health-group">
                    <label>
                        <i class="fas fa-heartbeat input-group-icon"></i>
                        Do you have any health issues?
                    </label>
                    <div style="display: flex; gap: 20px; margin-bottom: 10px;">
                        <div class="dietary-option" data-value="no">
                            <input type="radio" id="health-no" name="health-issues" value="no" checked>
                            <label for="health-no">No</label>
                        </div>
                        <div class="dietary-option" data-value="yes">
                            <input type="radio" id="health-yes" name="health-issues" value="yes">
                            <label for="health-yes">Yes</label>
                        </div>
                    </div>
                    
                    <div id="health-issues-options" class="health-issues-options">
                        <div class="health-issue-option" data-value="asthma">
                            <input type="checkbox" id="asthma" name="health-condition" value="asthma">
                            <label for="asthma">Asthma</label>
                        </div>
                        <div class="health-issue-option" data-value="diabetes">
                            <input type="checkbox" id="diabetes" name="health-condition" value="diabetes">
                            <label for="diabetes">Diabetes</label>
                        </div>
                        <div class="health-issue-option" data-value="hypertension">
                            <input type="checkbox" id="hypertension" name="health-condition" value="hypertension">
                            <label for="hypertension">Hypertension</label>
                        </div>
                        <div class="health-issue-option" data-value="heart-disease">
                            <input type="checkbox" id="heart-disease" name="health-condition" value="heart-disease">
                            <label for="heart-disease">Heart Disease</label>
                        </div>
                        <div class="health-issue-option" data-value="celiac">
                            <input type="checkbox" id="celiac" name="health-condition" value="celiac">
                            <label for="celiac">Celiac Disease</label>
                        </div>
                        <div class="health-issue-option" data-value="lactose-intolerant">
                            <input type="checkbox" id="lactose-intolerant" name="health-condition" value="lactose-intolerant">
                            <label for="lactose-intolerant">Lactose Intolerant</label>
                        </div>
                        <div class="health-issue-option" data-value="nut-allergy">
                            <input type="checkbox" id="nut-allergy" name="health-condition" value="nut-allergy">
                            <label for="nut-allergy">Nut Allergy</label>
                        </div>
                        <div class="health-issue-option" data-value="gluten-allergy">
                            <input type="checkbox" id="gluten-allergy" name="health-condition" value="gluten-allergy">
                            <label for="gluten-allergy">Gluten Allergy</label>
                        </div>
                        <div class="health-issue-option" data-value="kidney-disease">
                            <input type="checkbox" id="kidney-disease" name="health-condition" value="kidney-disease">
                            <label for="kidney-disease">Kidney Disease</label>
                        </div>
                        <div class="health-issue-option" data-value="gout">
                            <input type="checkbox" id="gout" name="health-condition" value="gout">
                            <label for="gout">Gout</label>
                        </div>
                        <div class="health-issue-option" data-value="ibs">
                            <input type="checkbox" id="ibs" name="health-condition" value="ibs">
                            <label for="ibs">IBS</label>
                        </div>
                        <div class="health-issue-option" data-value="arthritis">
                            <input type="checkbox" id="arthritis" name="health-condition" value="arthritis">
                            <label for="arthritis">Arthritis</label>
                        </div>
                        <!-- Additional sports-related health issues -->
                        <div class="health-issue-option" data-value="concussion">
                            <input type="checkbox" id="concussion" name="health-condition" value="concussion">
                            <label for="concussion">Concussion</label>
                        </div>
                        <div class="health-issue-option" data-value="acl-injury">
                            <input type="checkbox" id="acl-injury" name="health-condition" value="acl-injury">
                            <label for="acl-injury">ACL Injury</label>
                        </div>
                        <div class="health-issue-option" data-value="tennis-elbow">
                            <input type="checkbox" id="tennis-elbow" name="health-condition" value="tennis-elbow">
                            <label for="tennis-elbow">Tennis Elbow</label>
                        </div>
                        <div class="health-issue-option" data-value="shin-splints">
                            <input type="checkbox" id="shin-splints" name="health-condition" value="shin-splints">
                            <label for="shin-splints">Shin Splints</label>
                        </div>
                        <div class="health-issue-option" data-value="plantar-fasciitis">
                            <input type="checkbox" id="plantar-fasciitis" name="health-condition" value="plantar-fasciitis">
                            <label for="plantar-fasciitis">Plantar Fasciitis</label>
                        </div>
                        <div class="health-issue-option" data-value="rotator-cuff">
                            <input type="checkbox" id="rotator-cuff" name="health-condition" value="rotator-cuff">
                            <label for="rotator-cuff">Rotator Cuff Injury</label>
                        </div>
                        <div class="health-issue-option" data-value="stress-fractures">
                            <input type="checkbox" id="stress-fractures" name="health-condition" value="stress-fractures">
                            <label for="stress-fractures">Stress Fractures</label>
                        </div>
                        <div class="health-issue-option" data-value="runners-knee">
                            <input type="checkbox" id="runners-knee" name="health-condition" value="runners-knee">
                            <label for="runners-knee">Runner's Knee</label>
                        </div>
                    </div>
                </div>
                
                <button class="btn-primary" id="generate-button">Generate My Plan</button>
            </div>
            <div id="generated-plan" style="display: none;">
                <div class="plan-section">
                    <h2><i class="fas fa-calendar-day"></i> Weekly Plan</h2>
                    <div class="section-logo">
                        <i class="fas fa-calendar-week"></i>
                    </div>
                    <div id="weekly-plan"></div>
                </div>
            </div>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Loading Screen Logic
            const loadingScreen = document.getElementById('loading-screen');
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
            }, 3500);
            
            // Dynamic UI effects
            const smashContainer = document.querySelector('.smash-container');
            const customCursor = document.querySelector('.custom-cursor');
            const dumbbellCursor = document.querySelector('.dumbbell-cursor');
            const sportIcons = [
                'fas fa-dumbbell', 'fas fa-running', 'fas fa-bicycle', 'fas fa-swimmer',
                'fas fa-fist-raised', 'fas fa-basketball-ball', 'fas fa-football-ball',
                'fas fa-table-tennis', 'fas fa-volleyball-ball', 'fas fa-baseball-ball'
            ];
            
            // Unique bright colors for each sport
            const sportColors = {
                boxer: '#FF4136',      // Bright Red
                sprinter: '#FF851B',   // Bright Orange
                bodybuilder: '#B10DC9', // Bright Purple
                swimmer: '#4CC9F0',    // Cyan (default)
                gymnast: '#FFDC00',    // Bright Yellow
                cricket: '#2ECC40',    // Bright Green
                basketball: '#0074D9',  // Bright Blue
                football: '#39CCCC',    // Turquoise
                tennis: '#F012BE',     // Bright Pink
                volleyball: '#FF6B6B',  // Light Red
                athletics: '#6A5ACD',  // Slate Blue
                other: '#20B2AA'       // Light Sea Green
            };
            
            // Set initial dumbbell color to cyan (swimming)
            dumbbellCursor.style.color = '#4CC9F0';
            dumbbellCursor.style.filter = 'drop-shadow(0 0 15px rgba(76, 201, 240, 0.9))';
            
            // Function to update the entire page color theme
            function updateColorTheme(color) {
                // Update CSS variables
                document.documentElement.style.setProperty('--accent-color', color);
                document.documentElement.style.setProperty('--primary-gradient', `linear-gradient(135deg, ${color} 0%, ${adjustColor(color, -20)} 100%)`);
                document.documentElement.style.setProperty('--animal-color', color);
                
                // Update dumbbell cursor
                dumbbellCursor.style.color = color;
                dumbbellCursor.style.filter = `drop-shadow(0 0 15px ${color}99)`;
                
                // Update all elements with accent color
                document.querySelectorAll('.gradient-text').forEach(el => {
                    el.style.background = `linear-gradient(90deg, var(--text-primary), ${color}, var(--text-primary))`;
                    el.style.backgroundSize = '200% auto';
                    el.style.webkitBackgroundClip = 'text';
                    el.style.webkitTextFillColor = 'transparent';
                    el.style.backgroundClip = 'text';
                });
                
                // Update logo icon
                document.querySelector('.logo-icon').style.color = color;
            }
            
            // Helper function to adjust color brightness
            function adjustColor(color, amount) {
                const num = parseInt(color.replace("#", ""), 16);
                const r = Math.max(0, Math.min(255, (num >> 16) + amount));
                const g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + amount));
                const b = Math.max(0, Math.min(255, (num & 0x0000FF) + amount));
                return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;
            }
            
            function handleSmash(x, y) {
                // Get current accent color
                const currentColor = getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim();
                
                // Create a glass break effect
                const newGlassBreak = document.createElement('div');
                newGlassBreak.className = 'glass-break';
                newGlassBreak.style.left = `${x - 75}px`;
                newGlassBreak.style.top = `${y - 75}px`;
                newGlassBreak.style.width = '150px';
                newGlassBreak.style.height = '150px';
                newGlassBreak.style.borderRadius = '50%';
                newGlassBreak.style.background = `radial-gradient(circle, rgba(255,255,255,0.9) 0%, ${currentColor}88 50%, transparent 70%)`;
                smashContainer.appendChild(newGlassBreak);
                
                // Create glass shards
                for (let i = 0; i < 25; i++) {
                    const shard = document.createElement('div');
                    shard.className = 'glass-shard';
                    shard.style.left = `${x}px`;
                    shard.style.top = `${y}px`;
                    shard.style.width = `${Math.random() * 15 + 5}px`;
                    shard.style.height = `${Math.random() * 20 + 8}px`;
                    shard.style.setProperty('--tx', `${(Math.random() - 0.5) * 150}px`);
                    shard.style.setProperty('--ty', `${(Math.random() - 0.5) * 150}px`);
                    shard.style.setProperty('--rotation', `${(Math.random() - 0.5) * 360}deg`);
                    shard.style.animationDuration = `${Math.random() * 0.8 + 0.8}s`;
                    shard.style.background = `linear-gradient(45deg, rgba(255, 255, 255, 0.8), ${currentColor}88)`;
                    smashContainer.appendChild(shard);
                }
                
                // Create icon particles
                for (let i = 0; i < 25; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'smash-particle';
                    particle.style.left = `${x}px`;
                    particle.style.top = `${y}px`;
                    particle.style.setProperty('--tx', `${(Math.random() - 0.5) * 150}px`);
                    particle.style.setProperty('--ty', `${(Math.random() - 0.5) * 150}px`);
                    particle.style.animationDuration = `${Math.random() * 0.8 + 0.8}s`;
                    particle.style.color = currentColor;
                    particle.style.filter = `drop-shadow(0 0 6px ${currentColor}7)`;
                    const icon = document.createElement('i');
                    icon.className = sportIcons[Math.floor(Math.random() * sportIcons.length)];
                    particle.appendChild(icon);
                    smashContainer.appendChild(particle);
                }
                
                // Clean up effects after animations
                setTimeout(() => {
                    smashContainer.innerHTML = '';
                }, 1500);
            }
            
            let audio;
            try {
                audio = new Audio("click.mp3.wav");
                audio.volume = 0.5;
            } catch (e) {
                console.error("Audio failed to load or play:", e);
            }
            
            // Hide custom cursor over interactive elements
            const interactiveElements = document.querySelectorAll('input, textarea, select, button');
            
            interactiveElements.forEach(element => {
                element.addEventListener('mouseenter', () => {
                    // Don't hide the cursor, just change its appearance
                    dumbbellCursor.style.transform = 'scale(1.2)';
                    dumbbellCursor.style.filter = `drop-shadow(0 0 20px ${getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim()}99)`;
                });
                
                element.addEventListener('mouseleave', () => {
                    dumbbellCursor.style.transform = 'scale(1)';
                    dumbbellCursor.style.filter = `drop-shadow(0 0 15px ${getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim()}99)`;
                });
            });
            
            document.addEventListener('click', (e) => {
                // Only show smash effect if not over interactive elements
                if (!e.target.matches('input, textarea, select, button')) {
                    handleSmash(e.clientX, e.clientY);
                    if (audio) {
                        audio.currentTime = 0;
                        audio.play().catch(err => console.error("Audio play failed:", err));
                    }
                }
            });
            
            document.addEventListener('mousemove', (e) => {
                customCursor.style.left = `${e.clientX}px`;
                customCursor.style.top = `${e.clientY}px`;
            });
            
            const particlesContainer = document.querySelector('.particles-container');
            
            function createParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const size = Math.random() * 6 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                const currentColor = getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim();
                particle.style.background = currentColor;
                const duration = Math.random() * 10 + 10;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                particlesContainer.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, duration * 1000);
            };
            
            for (let i = 0; i < 30; i++) {
                setTimeout(createParticle, i * 100);
            }
            
            setInterval(createParticle, 300);
            
            // Floating icons
            const floatingIconsContainer = document.querySelector('.floating-icons-container');
            const floatingIconTypes = [
                'fas fa-dumbbell', 'fas fa-running', 'fas fa-bicycle', 'fas fa-swimmer',
                'fas fa-fist-raised', 'fas fa-basketball-ball', 'fas fa-football-ball',
                'fas fa-table-tennis', 'fas fa-volleyball-ball', 'fas fa-baseball-ball',
                'fas fa-medal', 'fas fa-trophy', 'fas fa-star'
            ];
            
            function createFloatingIcon() {
                const icon = document.createElement('i');
                icon.className = `floating-icon ${floatingIconTypes[Math.floor(Math.random() * floatingIconTypes.length)]}`;
                icon.style.left = `${Math.random() * 100}%`;
                icon.style.top = `${Math.random() * 100}%`;
                icon.style.fontSize = `${Math.random() * 1.5 + 1}rem`;
                icon.style.animationDuration = `${Math.random() * 20 + 15}s`;
                icon.style.animationDelay = `${Math.random() * 5}s`;
                
                // Random color
                const colors = [
                    getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim(),
                    'rgba(247, 37, 133, 0.5)',
                    'rgba(255, 107, 53, 0.5)',
                    'rgba(114, 9, 183, 0.5)',
                    'rgba(76, 201, 240, 0.5)'
                ];
                icon.style.color = colors[Math.floor(Math.random() * colors.length)];
                
                floatingIconsContainer.appendChild(icon);
                
                // Remove icon after animation
                setTimeout(() => {
                    icon.remove();
                }, 25000);
            }
            
            // Create initial floating icons
            for (let i = 0; i < 15; i++) {
                setTimeout(createFloatingIcon, i * 200);
            }
            
            // Continuously create new icons
            setInterval(createFloatingIcon, 2000);
            
            // Sport selection and dynamic goals
            const sportSelection = document.getElementById('sport-selection');
            const otherSportGroup = document.getElementById('other-sport-group');
            const primaryGoalSelect = document.getElementById('primary-goal');
            const otherSportInput = document.getElementById('other-sport');
            
            // Define goals for each sport
            const sportGoals = {
                boxer: [
                    { value: 'punching-power', text: 'Increase Punching Power' },
                    { value: 'defensive-skills', text: 'Enhance Defensive Skills' },
                    { value: 'endurance', text: 'Improve Ring Endurance' },
                    { value: 'footwork', text: 'Master Footwork & Movement' }
                ],
                sprinter: [
                    { value: 'acceleration', text: 'Improve Acceleration' },
                    { value: 'top-speed', text: 'Increase Top Speed' },
                    { value: 'endurance', text: 'Build Sprint Endurance' },
                    { value: 'technique', text: 'Perfect Running Technique' }
                ],
                bodybuilder: [
                    { value: 'muscle-growth', text: 'Maximize Muscle Growth' },
                    { value: 'strength', text: 'Increase Strength' },
                    { value: 'definition', text: 'Improve Muscle Definition' },
                    { value: 'symmetry', text: 'Achieve Proportional Physique' }
                ],
                swimmer: [
                    { value: 'technique', text: 'Perfect Stroke Technique' },
                    { value: 'endurance', text: 'Build Swimming Endurance' },
                    { value: 'speed', text: 'Increase Swimming Speed' },
                    { value: 'turns', text: 'Master Turns and Starts' }
                ],
                gymnast: [
                    { value: 'flexibility', text: 'Increase Flexibility' },
                    { value: 'strength', text: 'Build Core Strength' },
                    { value: 'balance', text: 'Improve Balance' },
                    { value: 'technique', text: 'Perfect Routine Techniques' }
                ],
                cricket: [
                    { value: 'batting', text: 'Improve Batting Skills' },
                    { value: 'bowling', text: 'Enhance Bowling Technique' },
                    { value: 'fielding', text: 'Master Fielding Skills' },
                    { value: 'endurance', text: 'Build Match Endurance' }
                ],
                basketball: [
                    { value: 'shooting', text: 'Improve Shooting Accuracy' },
                    { value: 'dribbling', text: 'Enhance Ball Handling' },
                    { value: 'vertical', text: 'Increase Vertical Jump' },
                    { value: 'endurance', text: 'Build Game Endurance' }
                ],
                football: [
                    { value: 'ball-control', text: 'Improve Ball Control' },
                    { value: 'speed', text: 'Increase Running Speed' },
                    { value: 'stamina', text: 'Build Match Stamina' },
                    { value: 'tactics', text: 'Understand Game Tactics' }
                ],
                tennis: [
                    { value: 'serve', text: 'Improve Serve Technique' },
                    { value: 'groundstrokes', text: 'Enhance Groundstrokes' },
                    { value: 'net-play', text: 'Master Net Play' },
                    { value: 'endurance', text: 'Build Match Endurance' }
                ],
                volleyball: [
                    { value: 'spiking', text: 'Improve Spiking Power' },
                    { value: 'serving', text: 'Enhance Serving Technique' },
                    { value: 'blocking', text: 'Master Blocking Skills' },
                    { value: 'vertical', text: 'Increase Vertical Jump' }
                ],
                athletics: [
                    { value: 'speed', text: 'Increase Running Speed' },
                    { value: 'endurance', text: 'Build Track Endurance' },
                    { value: 'jumping', text: 'Improve Jumping Technique' },
                    { value: 'throwing', text: 'Enhance Throwing Power' }
                ],
                // Dynamic sport goals will be generated based on input
                other: []
            };
            
            // Common sports list for validation
            const commonSports = [
                'soccer', 'rugby', 'hockey', 'badminton', 'table tennis', 'golf',
                'baseball', 'cycling', 'running', 'jogging', 'marathon', 'triathlon',
                'wrestling', 'judo', 'karate', 'taekwondo', 'martial arts', 'boxing',
                'weightlifting', 'powerlifting', 'crossfit', 'yoga', 'pilates','kabaddi',
                'dancing', 'ballet', 'climbing', 'skiing', 'snowboarding', 'skating',
                'surfing', 'rowing', 'canoeing', 'kayaking', 'fencing', 'archery',
                'shooting', 'equestrian', 'polo', 'lacrosse', 'squash', 'handball'
            ];
            
            // Sport-specific goal generators
            const sportGoalGenerators = {
                'fencing': () => [
                    { value: 'footwork', text: 'Improve Footwork' },
                    { value: 'blade-work', text: 'Enhance Blade Work' },
                    { value: 'speed', text: 'Increase Attack Speed' },
                    { value: 'tactics', text: 'Master Tactical Strategies' }
                ],
                'soccer': () => [
                    { value: 'dribbling', text: 'Improve Dribbling Skills' },
                    { value: 'shooting', text: 'Enhance Shooting Accuracy' },
                    { value: 'passing', text: 'Master Passing Techniques' },
                    { value: 'endurance', text: 'Build Match Endurance' }
                ],
                'rugby': () => [
                    { value: 'strength', text: 'Increase Physical Strength' },
                    { value: 'tackling', text: 'Improve Tackling Technique' },
                    { value: 'endurance', text: 'Build Match Stamina' },
                    { value: 'teamwork', text: 'Enhance Team Coordination' }
                ],
                'hockey': () => [
                    { value: 'stick-work', text: 'Improve Stick Handling' },
                    { value: 'shooting', text: 'Enhance Shooting Accuracy' },
                    { value: 'speed', text: 'Increase Skating Speed' },
                    { value: 'endurance', text: 'Build Game Endurance' }
                ],
                'badminton': () => [
                    { value: 'footwork', text: 'Improve Footwork' },
                    { value: 'smash', text: 'Enhance Smash Technique' },
                    { value: 'net-play', text: 'Master Net Play' },
                    { value: 'endurance', text: 'Build Match Endurance' }
                ],
                'table tennis': () => [
                    { value: 'serve', text: 'Improve Serve Technique' },
                    { value: 'topspin', text: 'Master Topspin Shots' },
                    { value: 'speed', text: 'Increase Reaction Speed' },
                    { value: 'footwork', text: 'Enhance Footwork' }
                ],
                'golf': () => [
                    { value: 'swing', text: 'Perfect Golf Swing' },
                    { value: 'driving', text: 'Improve Driving Distance' },
                    { value: 'putting', text: 'Master Putting Technique' },
                    { value: 'accuracy', text: 'Enhance Shot Accuracy' }
                ],
                'baseball': () => [
                    { value: 'batting', text: 'Improve Batting Skills' },
                    { value: 'pitching', text: 'Enhance Pitching Technique' },
                    { value: 'fielding', text: 'Master Fielding Skills' },
                    { value: 'throwing', text: 'Increase Throwing Accuracy' }
                ],
                'cycling': () => [
                    { value: 'endurance', text: 'Build Cycling Endurance' },
                    { value: 'speed', text: 'Increase Cycling Speed' },
                    { value: 'climbing', text: 'Improve Hill Climbing' },
                    { value: 'technique', text: 'Perfect Pedaling Technique' }
                ],
                'running': () => [
                    { value: 'endurance', text: 'Build Running Endurance' },
                    { value: 'speed', text: 'Increase Running Speed' },
                    { value: 'form', text: 'Perfect Running Form' },
                    { value: 'recovery', text: 'Improve Recovery Time' }
                ],
                'wrestling': () => [
                    { value: 'strength', text: 'Increase Physical Strength' },
                    { value: 'technique', text: 'Master Wrestling Techniques' },
                    { value: 'agility', text: 'Improve Agility' },
                    { value: 'endurance', text: 'Build Match Stamina' }
                ],
                'judo': () => [
                    { value: 'throws', text: 'Master Throwing Techniques' },
                    { value: 'grappling', text: 'Improve Grappling Skills' },
                    { value: 'balance', text: 'Enhance Balance' },
                    { value: 'strength', text: 'Build Core Strength' }
                ],
                'karate': () => [
                    { value: 'strikes', text: 'Perfect Striking Techniques' },
                    { value: 'kata', text: 'Master Kata Forms' },
                    { value: 'speed', text: 'Increase Strike Speed' },
                    { value: 'balance', text: 'Improve Balance' }
                ],
                'taekwondo': () => [
                    { value: 'kicks', text: 'Perfect Kicking Techniques' },
                    { value: 'sparring', text: 'Improve Sparring Skills' },
                    { value: 'flexibility', text: 'Increase Flexibility' },
                    { value: 'speed', text: 'Enhance Kick Speed' }
                ],
                'weightlifting': () => [
                    { value: 'strength', text: 'Increase Maximum Strength' },
                    { value: 'technique', text: 'Perfect Lifting Technique' },
                    { value: 'power', text: 'Build Explosive Power' },
                    { value: 'stability', text: 'Improve Core Stability' }
                ],
                'powerlifting': () => [
                    { value: 'squat', text: 'Increase Squat Max' },
                    { value: 'deadlift', text: 'Improve Deadlift Strength' },
                    { value: 'bench-press', text: 'Enhance Bench Press' },
                    { value: 'form', text: 'Perfect Lifting Form' }
                ],
                'crossfit': () => [
                    { value: 'endurance', text: 'Build Cardiovascular Endurance' },
                    { value: 'strength', text: 'Increase Functional Strength' },
                    { value: 'flexibility', text: 'Improve Mobility' },
                    { value: 'recovery', text: 'Enhance Recovery Time' }
                ],
                'yoga': () => [
                    { value: 'flexibility', text: 'Increase Flexibility' },
                    { value: 'balance', text: 'Improve Balance' },
                    { value: 'strength', text: 'Build Core Strength' },
                    { value: 'mindfulness', text: 'Enhance Mindfulness' }
                ],
                'kabaddi': () => [
                    { value: 'flexibility', text: 'Build Leg Strength' },
                    { value: 'balance', text: 'Strengthen Upper Body' },
                    { value: 'strength', text: 'Improve Grip Strength' },
                    { value: 'mindfulness', text: 'Improve Agility' }
                ],
                'climbing': () => [
                    { value: 'strength', text: 'Build Upper Body Strength' },
                    { value: 'endurance', text: 'Improve Climbing Endurance' },
                    { value: 'technique', text: 'Perfect Climbing Technique' },
                    { value: 'flexibility', text: 'Increase Flexibility' }
                ],
                'skiing': () => [
                    { value: 'technique', text: 'Perfect Skiing Technique' },
                    { value: 'balance', text: 'Improve Balance' },
                    { value: 'speed', text: 'Increase Skiing Speed' },
                    { value: 'endurance', text: 'Build Skiing Endurance' }
                ],
                'surfing': () => [
                    { value: 'balance', text: 'Improve Balance' },
                    { value: 'paddling', text: 'Enhance Paddling Strength' },
                    { value: 'technique', text: 'Perfect Surfing Technique' },
                    { value: 'endurance', text: 'Build Paddling Endurance' }
                ],
                'rowing': () => [
                    { value: 'technique', text: 'Perfect Rowing Technique' },
                    { value: 'strength', text: 'Build Rowing Strength' },
                    { value: 'endurance', text: 'Increase Rowing Endurance' },
                    { value: 'power', text: 'Enhance Stroke Power' }
                ],
                'fencing': () => [
                    { value: 'footwork', text: 'Improve Footwork' },
                    { value: 'blade-work', text: 'Enhance Blade Work' },
                    { value: 'speed', text: 'Increase Attack Speed' },
                    { value: 'tactics', text: 'Master Tactical Strategies' }
                ],
                'archery': () => [
                    { value: 'accuracy', text: 'Improve Shooting Accuracy' },
                    { value: 'technique', text: 'Perfect Archery Technique' },
                    { value: 'strength', text: 'Build Draw Strength' },
                    { value: 'focus', text: 'Enhance Mental Focus' }
                ]
            };
            
            // Update goals based on sport selection
            function updateGoals() {
                const selectedSport = sportSelection.value;
                let goals = sportGoals[selectedSport] || sportGoals.other;
                
                // Clear existing options
                primaryGoalSelect.innerHTML = '';
                
                // If "Other" is selected and a sport is entered, try to generate goals
                if (selectedSport === 'other' && otherSportInput.value.trim()) {
                    const sportValue = otherSportInput.value.trim().toLowerCase();
                    
                    // Check if we have a goal generator for this sport
                    for (const [sport, generator] of Object.entries(sportGoalGenerators)) {
                        if (sportValue.includes(sport) || sport.includes(sportValue)) {
                            goals = generator();
                            break;
                        }
                    }
                    
                    // If no specific generator found, use generic goals
                    if (goals.length === 0) {
                        goals = [
                            { value: 'strength', text: 'Increase Strength' },
                            { value: 'endurance', text: 'Build Endurance' },
                            { value: 'flexibility', text: 'Improve Flexibility' },
                            { value: 'technique', text: 'Perfect Sport Technique' }
                        ];
                    }
                }
                
                // Add new options
                goals.forEach(goal => {
                    const option = document.createElement('option');
                    option.value = goal.value;
                    option.textContent = goal.text;
                    primaryGoalSelect.appendChild(option);
                });
                
                // Show/hide other sport input
                if (selectedSport === 'other') {
                    otherSportGroup.style.display = 'block';
                    otherSportGroup.style.animation = 'fadeInDown 0.5s ease-out';
                } else {
                    otherSportGroup.style.display = 'none';
                }
                
                // Update the entire page color theme based on sport
                const sportColor = sportColors[selectedSport] || '#4CC9F0';
                updateColorTheme(sportColor);
                
                // Add glow animation to the select element
                sportSelection.style.boxShadow = `0 0 15px ${sportColor}66`;
                setTimeout(() => {
                    sportSelection.style.boxShadow = '';
                }, 1000);
            }
            
            // Initialize goals
            updateGoals();
            
            // Update goals when sport selection changes
            sportSelection.addEventListener('change', updateGoals);
            
            // Update goals when other sport input changes
            otherSportInput.addEventListener('input', updateGoals);
            
            // Validate other sport input
            otherSportInput.addEventListener('blur', function() {
                const sportValue = this.value.trim().toLowerCase();
                const isValidSport = commonSports.some(sport => sport.includes(sportValue) || sportValue.includes(sport));
                
                if (sportValue && !isValidSport) {
                    otherSportGroup.classList.add('error');
                } else {
                    otherSportGroup.classList.remove('error');
                }
            });
            
            // Handle dietary sub-options
            const dietaryOptions = document.querySelectorAll('.dietary-option');
            
            dietaryOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    
                    if (checkbox.checked) {
                        this.classList.add('selected');
                        
                        // Show sub-options if they exist
                        const container = this.closest('.dietary-option-container');
                        const subOptions = container.querySelector('.dietary-sub-options');
                        if (subOptions) {
                            subOptions.classList.add('active');
                            
                            // Check if any health restrictions should be applied
                            updateHealthRestrictions();
                        }
                    } else {
                        this.classList.remove('selected');
                        
                        // Hide sub-options if they exist
                        const container = this.closest('.dietary-option-container');
                        const subOptions = container.querySelector('.dietary-sub-options');
                        if (subOptions) {
                            subOptions.classList.remove('active');
                            
                            // Deselect all sub-options when main option is deselected
                            const subOptionCheckboxes = subOptions.querySelectorAll('input[type="checkbox"]');
                            subOptionCheckboxes.forEach(subCheckbox => {
                                subCheckbox.checked = false;
                                subCheckbox.closest('.dietary-sub-option').classList.remove('selected', 'health-restriction');
                                
                                // Remove any health restriction description
                                const desc = subCheckbox.closest('.dietary-sub-option').querySelector('.health-restriction-desc');
                                if (desc) {
                                    desc.remove();
                                }
                            });
                        }
                    }
                });
            });
            
            // Handle dietary toggle block click
            const dietaryToggleBlocks = document.querySelectorAll('.dietary-toggle-block');
            
            dietaryToggleBlocks.forEach(block => {
                block.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const option = this.closest('.dietary-option');
                    const container = this.closest('.dietary-option-container');
                    const subOptions = container.querySelector('.dietary-sub-options');
                    
                    // Only toggle if the dietary-option is selected
                    if (option.classList.contains('selected')) {
                        if (subOptions) {
                            subOptions.classList.toggle('active');
                        }
                    }
                });
            });
            
            // Handle dietary sub-option selection
            const dietarySubOptions = document.querySelectorAll('.dietary-sub-option');
            
            dietarySubOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // If disabled, do nothing
                    if (this.classList.contains('disabled')) {
                        return;
                    }
                    
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    
                    // If it's a health restriction and already checked, show warning and prevent unchecking
                    if (this.classList.contains('health-restriction') && checkbox.checked) {
                        showHealthWarning();
                        return;
                    }
                    
                    checkbox.checked = !checkbox.checked;
                    
                    if (checkbox.checked) {
                        this.classList.add('selected');
                    } else {
                        this.classList.remove('selected');
                    }
                });
            });
            
            // Function to show health warning message
            function showHealthWarning() {
                // Remove any existing warning messages
                const existingWarning = document.querySelector('.health-warning-message');
                if (existingWarning) {
                    existingWarning.remove();
                }
                
                // Create warning message
                const warningMessage = document.createElement('div');
                warningMessage.className = 'health-warning-message';
                
                // Random warning messages
                const warningMessages = [
                    "âš ï¸ Health Alert! This restriction is vital for your wellbeing. Removing it could compromise your health journey.",
                    "ðŸš« Critical Health Restriction! Your safety is our priority. This item must remain selected for your personalized plan.",
                    "â›” Medical Advisory! Based on your health conditions, this restriction is non-negotiable for your training program.",
                    "ðŸ©º Health Protection Active! This dietary restriction is essential for your wellbeing and cannot be removed.",
                    "âš¡ Vital Health Measure! Your selected health conditions require this restriction to ensure safe and effective training."
                ];
                
                const randomMessage = warningMessages[Math.floor(Math.random() * warningMessages.length)];
                
                warningMessage.innerHTML = `
                    <h3>âš ï¸ HEALTH WARNING</h3>
                    <p>${randomMessage}</p>
                    <button id="close-warning">I Understand</button>
                `;
                
                document.body.appendChild(warningMessage);
                
                // Add event listener to close button
                document.getElementById('close-warning').addEventListener('click', function() {
                    warningMessage.remove();
                });
                
                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (warningMessage.parentNode) {
                        warningMessage.remove();
                    }
                }, 5000);
            }
            
            // Handle health issues options
            const healthYesRadio = document.getElementById('health-yes');
            const healthNoRadio = document.getElementById('health-no');
            const healthIssuesOptions = document.getElementById('health-issues-options');
            
            healthYesRadio.addEventListener('change', function() {
                if (this.checked) {
                    healthIssuesOptions.classList.add('active');
                }
            });
            
            healthNoRadio.addEventListener('change', function() {
                if (this.checked) {
                    healthIssuesOptions.classList.remove('active');
                    // Clear all health issue selections
                    const healthIssueOptions = healthIssuesOptions.querySelectorAll('.health-issue-option');
                    healthIssueOptions.forEach(opt => {
                        opt.classList.remove('selected');
                        opt.querySelector('input[type="checkbox"]').checked = false;
                    });
                    
                    // Remove all health restrictions from dietary options
                    document.querySelectorAll('.dietary-sub-option.health-restriction').forEach(option => {
                        option.classList.remove('health-restriction');
                        const desc = option.querySelector('.health-restriction-desc');
                        if (desc) {
                            desc.remove();
                        }
                    });
                }
            });
            
            // Handle body type selection
            const bodyTypeOptions = document.querySelectorAll('.body-type-option');
            
            bodyTypeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    bodyTypeOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Check the radio button
                    const radioInput = this.querySelector('input[type="radio"]');
                    radioInput.checked = true;
                });
            });
            
            // Handle health issue option selection
            const healthIssueOptions = document.querySelectorAll('.health-issue-option');
            
            healthIssueOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    
                    if (checkbox.checked) {
                        this.classList.add('selected');
                    } else {
                        this.classList.remove('selected');
                    }
                    
                    // Update dietary restrictions based on health issues
                    updateHealthRestrictions();
                });
            });
            
            // Handle health yes/no selection
            const healthOptions = document.querySelectorAll('#health-group .dietary-option');
            
            healthOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                    
                    // Remove selected class from all options
                    healthOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Show/hide health issues options
                    if (radio.value === 'yes') {
                        healthIssuesOptions.classList.add('active');
                    } else {
                        healthIssuesOptions.classList.remove('active');
                        // Clear all health issue selections
                        healthIssueOptions.forEach(opt => {
                            opt.classList.remove('selected');
                            opt.querySelector('input[type="checkbox"]').checked = false;
                        });
                        
                        // Remove all health restrictions from dietary options
                        document.querySelectorAll('.dietary-sub-option.health-restriction').forEach(option => {
                            option.classList.remove('health-restriction');
                            const desc = option.querySelector('.health-restriction-desc');
                            if (desc) {
                                desc.remove();
                            }
                        });
                    }
                    
                    // Update dietary restrictions
                    updateHealthRestrictions();
                });
            });
            
            // Handle equipment option selection
            const equipmentOptions = document.querySelectorAll('.equipment-option');
            
            equipmentOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const checkbox = this.querySelector('input[type="checkbox"]');
                    checkbox.checked = !checkbox.checked;
                    
                    if (checkbox.checked) {
                        this.classList.add('selected');
                        
                        // If "None" is selected, deselect all other options
                        if (checkbox.value === 'None') {
                            equipmentOptions.forEach(opt => {
                                if (opt !== this) {
                                    opt.classList.remove('selected');
                                    opt.querySelector('input[type="checkbox"]').checked = false;
                                }
                            });
                        } else {
                            // If any other option is selected, deselect "None"
                            const noneOption = document.querySelector('#none');
                            if (noneOption.checked) {
                                noneOption.checked = false;
                                noneOption.closest('.equipment-option').classList.remove('selected');
                            }
                        }
                    } else {
                        this.classList.remove('selected');
                    }
                });
            });
            
            // Handle workout mode option selection
            const workoutModeOptions = document.querySelectorAll('.workout-mode-option');
            
            workoutModeOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Remove selected class from all options
                    workoutModeOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Check the radio button
                    const radioInput = this.querySelector('input[type="radio"]');
                    radioInput.checked = true;
                });
            });
            
            // Update dietary restrictions based on health issues
            function updateHealthRestrictions() {
                // First, remove all existing health restrictions
                document.querySelectorAll('.dietary-sub-option.health-restriction').forEach(option => {
                    option.classList.remove('health-restriction');
                    const desc = option.querySelector('.health-restriction-desc');
                    if (desc) {
                        desc.remove();
                    }
                });
                
                const hasHealthIssues = document.querySelector('input[name="health-issues"]:checked').value === 'yes';
                
                if (!hasHealthIssues) {
                    return;
                }
                
                // Get selected health conditions
                const selectedConditions = [];
                healthIssueOptions.forEach(option => {
                    if (option.querySelector('input[type="checkbox"]').checked) {
                        selectedConditions.push(option.dataset.value);
                    }
                });
                
                // Define problematic foods for each health condition
                const problematicFoods = {
                    'asthma': ['dairy', 'sulfites', 'processed'],
                    'diabetes': ['sugar', 'high-carb', 'processed'],
                    'hypertension': ['salt', 'high-sodium', 'processed'],
                    'heart-disease': ['saturated-fat', 'trans-fat', 'high-cholesterol', 'processed'],
                    'celiac': ['gluten'],
                    'lactose-intolerant': ['dairy'],
                    'nut-allergy': ['nuts'],
                    'gluten-allergy': ['gluten'],
                    'kidney-disease': ['high-protein', 'high-sodium', 'high-potassium'],
                    'gout': ['high-purine', 'red-meat', 'seafood', 'alcohol'],
                    'ibs': ['dairy', 'gluten', 'high-fodmap', 'processed'],
                    'arthritis': ['nightshades', 'dairy', 'processed'],
                    'concussion': ['alcohol', 'caffeine'],
                    'acl-injury': ['high-protein'],
                    'tennis-elbow': ['high-protein'],
                    'shin-splints': ['high-protein'],
                    'plantar-fasciitis': ['high-protein'],
                    'rotator-cuff': ['high-protein'],
                    'stress-fractures': ['high-protein', 'calcium'],
                    'runners-knee': ['high-protein']
                };
                
                // Define descriptions for each problematic food
                const foodDescriptions = {
                    'dairy': 'Can exacerbate symptoms. Avoid milk, cheese, yogurt, and butter.',
                    'sulfites': 'May trigger asthma attacks. Found in wine, dried fruits, and processed foods.',
                    'processed': 'Contains additives that may worsen condition. Limit packaged and fast foods.',
                    'sugar': 'Raises blood sugar levels. Avoid sweets, desserts, and sugary drinks.',
                    'high-carb': 'Can spike blood sugar. Limit bread, pasta, rice, and starchy vegetables.',
                    'salt': 'Increases blood pressure. Reduce table salt and high-sodium foods.',
                    'high-sodium': 'Can worsen hypertension. Avoid canned soups, processed meats, and salty snacks.',
                    'saturated-fat': 'Increases bad cholesterol. Limit fatty meats and full-fat dairy.',
                    'trans-fat': 'Raises heart disease risk. Avoid fried foods and baked goods with hydrogenated oils.',
                    'high-cholesterol': 'Can clog arteries. Limit egg yolks, organ meats, and shellfish.',
                    'gluten': 'Triggers autoimmune response. Avoid wheat, barley, rye, and contaminated oats.',
                    'nuts': 'Can cause severe allergic reactions. Avoid all nuts and nut products.',
                    'high-protein': 'May strain kidneys. Limit protein supplements and excessive meat consumption.',
                    'high-potassium': 'Dangerous for kidney function. Avoid bananas, potatoes, and tomatoes.',
                    'high-purine': 'Increases uric acid levels. Limit organ meats, anchovies, and sardines.',
                    'red-meat': 'High in purines and saturated fat. Limit beef, pork, and lamb.',
                    'seafood': 'Contains high levels of purines. Avoid shellfish, anchovies, and sardines.',
                    'alcohol': 'Interferes with medication and metabolism. Avoid all alcoholic beverages.',
                    'high-fodmap': 'Triggers IBS symptoms. Limit beans, onions, garlic, and certain fruits.',
                    'nightshades': 'May increase inflammation. Avoid tomatoes, potatoes, eggplants, and peppers.',
                    'caffeine': 'Can affect recovery and sleep. Limit coffee, tea, and energy drinks.',
                    'calcium': 'Excess may contribute to kidney stones. Avoid calcium supplements unless prescribed.'
                };
                
                // Collect all problematic foods from selected conditions
                const problematicFoodSet = new Set();
                selectedConditions.forEach(condition => {
                    if (problematicFoods[condition]) {
                        problematicFoods[condition].forEach(food => problematicFoodSet.add(food));
                    }
                });
                
                // For each problematic food, find the corresponding dietary sub-option
                problematicFoodSet.forEach(food => {
                    const subOption = document.querySelector(`.dietary-sub-option[data-value="${food}"]`);
                    if (subOption) {
                        const container = subOption.closest('.dietary-option-container');
                        const mainOption = container.querySelector('.dietary-option');
                        
                        // Only apply restriction if the main dietary option is selected
                        if (mainOption.classList.contains('selected')) {
                            // Check the sub-option
                            const checkbox = subOption.querySelector('input[type="checkbox"]');
                            checkbox.checked = true;
                            subOption.classList.add('selected', 'health-restriction');
                            
                            // Add description if not exists
                            if (!subOption.querySelector('.health-restriction-desc')) {
                                const desc = document.createElement('div');
                                desc.className = 'health-restriction-desc';
                                
                                // Create a description based on the selected conditions
                                const relatedConditions = selectedConditions.filter(condition => 
                                    problematicFoods[condition] && problematicFoods[condition].includes(food)
                                );
                                
                                if (relatedConditions.length > 0) {
                                    desc.textContent = `âš ï¸ HEALTH WARNING: Avoid due to ${relatedConditions.join(', ')}. ${foodDescriptions[food] || 'This food may negatively impact your condition.'}`;
                                } else {
                                    desc.textContent = `âš ï¸ HEALTH WARNING: Avoid due to health condition. ${foodDescriptions[food] || 'This food may negatively impact your condition.'}`;
                                }
                                
                                subOption.appendChild(desc);
                            }
                        }
                    }
                });
            }
            
            // Profile dropdown functionality - Copied from First Code
            const profileBtn = document.getElementById('profileBtn');
            const profileDropdown = document.getElementById('profileDropdown');
            const logoutBtn = document.getElementById('logoutBtn');
            
            // Get user name from localStorage
            const storedName = localStorage.getItem('userName');
            if (storedName) {
                document.getElementById('userName').textContent = storedName;
            }
            
            profileBtn.addEventListener('click', () => {
                profileDropdown.classList.toggle('active');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
                    profileDropdown.classList.remove('active');
                }
            });
            
            // Logout functionality - Copied from First Code
            logoutBtn.addEventListener('click', (e) => {
                e.preventDefault();
                // Clear user data from localStorage
                localStorage.removeItem('userName');
                // Redirect to index.html
                window.location.href = 'index.html';
            });
            
            // Input validation
            function validateInputs() {
                let isValid = true;
                let firstInvalidElement = null;
                
                // Validate age
                const ageInput = document.getElementById('age');
                const ageGroup = document.getElementById('age-group');
                if (!ageInput.value || parseFloat(ageInput.value) <= 10) {
                    ageGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = ageGroup;
                } else {
                    ageGroup.classList.remove('error');
                }
                
                // Validate weight
                const weightInput = document.getElementById('weight');
                const weightGroup = document.getElementById('weight-group');
                if (!weightInput.value || parseFloat(weightInput.value) <= 0) {
                    weightGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = weightGroup;
                } else {
                    weightGroup.classList.remove('error');
                }
                
                // Validate body type
                const bodyTypeSelected = document.querySelector('input[name="body-type"]:checked');
                const bodyTypeGroup = document.getElementById('body-type-group');
                if (!bodyTypeSelected) {
                    bodyTypeGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = bodyTypeGroup;
                } else {
                    bodyTypeGroup.classList.remove('error');
                }
                
                // Validate height
                const heightFtInput = document.getElementById('height-ft');
                const heightInInput = document.getElementById('height-in');
                const heightGroup = document.getElementById('height-group');
                if (!heightFtInput.value || parseFloat(heightFtInput.value) <= 0 || 
                    !heightInInput.value || parseFloat(heightInInput.value) > 12 || parseFloat(heightInInput.value) < 0 ){
                    heightGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = heightGroup;
                } else {
                    heightGroup.classList.remove('error');
                }
                
                // Validate sport selection
                const sportSelect = document.getElementById('sport-selection');
                const sportGroup = document.getElementById('sport-group');
                if (!sportSelect.value) {
                    sportGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = sportGroup;
                } else {
                    sportGroup.classList.remove('error');
                }
                
                // Validate other sport if selected
                if (sportSelect.value === 'other') {
                    const otherSportInput = document.getElementById('other-sport');
                    const sportValue = otherSportInput.value.trim().toLowerCase();
                    const isValidSport = commonSports.some(sport => sport.includes(sportValue) || sportValue.includes(sport));
                    
                    if (!otherSportInput.value.trim() || !isValidSport) {
                        otherSportGroup.classList.add('error');
                        isValid = false;
                        if (!firstInvalidElement) firstInvalidElement = otherSportGroup;
                    } else {
                        otherSportGroup.classList.remove('error');
                    }
                }
                
                // Validate fitness level
                const fitnessSelect = document.getElementById('fitness-level');
                const fitnessGroup = document.getElementById('fitness-group');
                if (!fitnessSelect.value) {
                    fitnessGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = fitnessGroup;
                } else {
                    fitnessGroup.classList.remove('error');
                }
                
                // Validate primary goal
                const goalSelect = document.getElementById('primary-goal');
                const goalGroup = document.getElementById('goal-group');
                if (!goalSelect.value) {
                    goalGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = goalGroup;
                } else {
                    goalGroup.classList.remove('error');
                }
                
                // Validate equipment
                const equipmentCheckboxes = document.querySelectorAll('input[name="equipment"]:checked');
                const equipmentGroup = document.getElementById('equipment-group');
                
                let isValidEquipment = false;
                if (equipmentCheckboxes.length > 0) {
                    isValidEquipment = true;
                }
                
                if (!isValidEquipment) {
                    equipmentGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = equipmentGroup;
                } else {
                    equipmentGroup.classList.remove('error');
                }
                
                // Validate workout mode
                const workoutModeSelected = document.querySelector('input[name="workout-mode"]:checked');
                const workoutModeGroup = document.getElementById('workout-mode-group');
                if (!workoutModeSelected) {
                    workoutModeGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = workoutModeGroup;
                } else {
                    workoutModeGroup.classList.remove('error');
                }
                
                // Validate dietary preferences
                const dietaryCheckboxes = document.querySelectorAll('input[name="dietary"]:checked');
                const dietaryGroup = document.getElementById('dietary-group');
                
                let isValidDietary = false;
                if (dietaryCheckboxes.length > 0) {
                    isValidDietary = true;
                }
                
                if (!isValidDietary) {
                    dietaryGroup.classList.add('error');
                    isValid = false;
                    if (!firstInvalidElement) firstInvalidElement = dietaryGroup;
                } else {
                    dietaryGroup.classList.remove('error');
                }
                
                // Scroll to first invalid element
                if (!isValid && firstInvalidElement) {
                    firstInvalidElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                
                return isValid;
            }
            
            // Plan Generator Logic
            const programType = 'athlete';
            const programTitle = 'Athletic Training Plan';
            const programDescription = 'Develop power, skills, and mental toughness for your chosen sport.';
            
            document.getElementById('program-title').textContent = programTitle;
            document.getElementById('program-description').textContent = programDescription;
            
            document.getElementById('generate-button').addEventListener('click', function(e) {
                e.preventDefault();
                
                // Validate inputs
                if (!validateInputs()) {
                    return;
                }
                
                const age = document.getElementById('age').value;
                const weight = document.getElementById('weight').value;
                const heightFt = document.getElementById('height-ft').value;
                const heightIn = document.getElementById('height-in').value;
                const fitnessLevel = document.getElementById('fitness-level').value;
                
                // Get body type
                const bodyTypeSelected = document.querySelector('input[name="body-type"]:checked');
                const bodyType = bodyTypeSelected ? bodyTypeSelected.value : '';
                
                // Collect dietary preferences
                const dietaryCheckboxes = document.querySelectorAll('input[name="dietary"]:checked');
                
                let dietaryPreferences = '';
                dietaryCheckboxes.forEach((checkbox, index) => {
                    if (index > 0) dietaryPreferences += ', ';
                    dietaryPreferences += checkbox.value;
                });
                
                // Collect food avoidances
                const avoidFoodCheckboxes = document.querySelectorAll('input[name="avoid-food"]:checked');
                
                let avoidFoods = '';
                avoidFoodCheckboxes.forEach((checkbox, index) => {
                    if (index > 0) avoidFoods += ', ';
                    avoidFoods += checkbox.value;
                });
                
                // Collect health issues
                const healthIssuesRadio = document.querySelector('input[name="health-issues"]:checked');
                const hasHealthIssues = healthIssuesRadio ? healthIssuesRadio.value : 'no';
                
                let healthConditions = '';
                if (hasHealthIssues === 'yes') {
                    const healthConditionCheckboxes = document.querySelectorAll('input[name="health-condition"]:checked');
                    healthConditionCheckboxes.forEach((checkbox, index) => {
                        if (index > 0) healthConditions += ', ';
                        healthConditions += checkbox.value;
                    });
                }
                
                // Collect equipment
                const equipmentCheckboxes = document.querySelectorAll('input[name="equipment"]:checked');
                
                let equipment = '';
                equipmentCheckboxes.forEach((checkbox, index) => {
                    if (index > 0) equipment += ', ';
                    equipment += checkbox.value;
                });
                
                // Get workout mode
                const workoutModeSelected = document.querySelector('input[name="workout-mode"]:checked');
                const workoutMode = workoutModeSelected ? workoutModeSelected.value : '';
                
                const sport = sportSelection.value;
                const otherSport = document.getElementById('other-sport').value;
                const primaryGoal = document.getElementById('primary-goal').value;
                
                // Determine the actual sport
                const actualSport = sport === 'other' && otherSport ? otherSport : sport;
                
                const requestData = {
                    programType: programType,
                    age: age,
                    weight: weight,
                    height: { ft: heightFt, in: heightIn },
                    fitnessLevel: fitnessLevel,
                    bodyType: bodyType,
                    dietaryPreferences: dietaryPreferences,
                    avoidFoods: avoidFoods,
                    hasHealthIssues: hasHealthIssues,
                    healthConditions: healthConditions,
                    sport: actualSport,
                    primaryGoal: primaryGoal,
                    equipment: equipment,
                    workoutMode: workoutMode
                };
                
                const generateButton = document.getElementById('generate-button');
                generateButton.textContent = 'Generating...';
                generateButton.disabled = true;
                
                fetch('http://127.0.0.1:5000/api/generate-plan', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(requestData)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(planData => {
                    updatePlanDisplay(planData);
                    document.getElementById('generated-plan').style.display = 'block';
                    
                    // Add dynamic animations to the generated plan
                    const generatedPlan = document.getElementById('generated-plan');
                    generatedPlan.style.animation = 'fadeIn 1s ease forwards';
                    
                    // Add animations to each plan section
                    const planSections = document.querySelectorAll('.plan-section');
                    planSections.forEach((section, index) => {
                        section.style.animation = 'none';
                        setTimeout(() => {
                            section.classList.add('visible');
                        }, index * 200);
                    });
                    
                    // Add animations to plan items
                    setTimeout(() => {
                        const planItems = document.querySelectorAll('.day-plan, .workout-item, .diet-item');
                        planItems.forEach((item, index) => {
                            item.style.animation = 'none';
                            setTimeout(() => {
                                item.classList.add('visible');
                            }, index * 100);
                        });
                    }, 1000);
                    
                    // Re-apply cursor hiding to new elements
                    const newInteractiveElements = document.querySelectorAll('#generated-plan input, #generated-plan textarea, #generated-plan select, #generated-plan button');
                    newInteractiveElements.forEach(element => {
                        element.addEventListener('mouseenter', () => {
                            dumbbellCursor.style.transform = 'scale(1.2)';
                            dumbbellCursor.style.filter = `drop-shadow(0 0 20px ${getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim()}99)`;
                        });
                        
                        element.addEventListener('mouseleave', () => {
                            dumbbellCursor.style.transform = 'scale(1)';
                            dumbbellCursor.style.filter = `drop-shadow(0 0 15px ${getComputedStyle(document.documentElement).getPropertyValue('--accent-color').trim()}99)`;
                        });
                    });
                })
                .catch(error => {
                    console.error('Error generating plan:', error);
                    // Use a custom message box instead of alert()
                    const messageBox = document.createElement('div');
                    messageBox.style.cssText = `
                        position: fixed;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        background-color: #333;
                        color: #fff;
                        padding: 20px;
                        border-radius: 8px;
                        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                        z-index: 1000;
                    `;
                    messageBox.innerHTML = `
                        <p>Failed to generate plan. Please check the console for details.</p>
                        <button onclick="this.parentElement.remove()">OK</button>
                    `;
                    document.body.appendChild(messageBox);
                })
                .finally(() => {
                    generateButton.textContent = 'Generate My Plan';
                    generateButton.disabled = false;
                });
            });
            
            function updatePlanDisplay(plan) {
                const weeklyPlanContainer = document.getElementById('weekly-plan');
                weeklyPlanContainer.innerHTML = '';
                
                // Days of the week
                const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                
                // Create a plan for each day
                daysOfWeek.forEach(day => {
                    const dayDiv = document.createElement('div');
                    dayDiv.className = 'day-plan';
                    
                    // Get workout for this day
                    const dayWorkout = plan.workout_plan ? plan.workout_plan.find(w => w.d.toLowerCase().includes(day.toLowerCase())) : null;
                    
                    // Get meals for this day
                    const dayMeals = plan.diet_plan ? plan.diet_plan.filter(m => m.d.toLowerCase().includes(day.toLowerCase())) : [];
                    
                    // Calculate water intake based on weight and activity level
                    const waterIntake = Math.round(parseFloat(plan.weight) * 0.033 * 1000); // ml per day
                    
                    let dayHtml = `<h3><i class="fas fa-calendar-day"></i> ${day}</h3>`;
                    
                    // Add workout section
                    if (dayWorkout) {
                        dayHtml += `
                            <div style="margin-bottom: 20px;">
                                <h4 style="color: var(--accent-color); margin-bottom: 10px;"><i class="fas fa-dumbbell"></i> Workout: ${dayWorkout.t} (${dayWorkout.dur})</h4>
                        `;
                        
                        if (dayWorkout.ex) {
                            dayWorkout.ex.forEach(exercise => {
                                dayHtml += `
                                    <div class="workout-item">
                                        <i class="fas fa-dumbbell workout-icon"></i>
                                        <div class="workout-details">
                                            <h4>${exercise.n}</h4>
                                            <p>${exercise.s} sets of ${exercise.r} reps</p>
                                            <p>${exercise.desc}</p>
                                        </div>
                                    </div>
                                `;
                            });
                        }
                        
                        dayHtml += `</div>`;
                    }
                    
                    // Add diet section
                    if (dayMeals.length > 0) {
                        dayHtml += `
                            <div style="margin-bottom: 20px;">
                                <h4 style="color: var(--accent-color); margin-bottom: 10px;"><i class="fas fa-utensils"></i> Diet Plan</h4>
                        `;
                        
                        dayMeals.forEach(meal => {
                            dayHtml += `
                                <div class="diet-item">
                                    <h3><i class="fas fa-utensils"></i> ${meal.mt}</h3>
                                    <p><strong>${meal.t}</strong><br>${meal.det}</p>
                                </div>
                            `;
                        });
                        
                        // Add water intake
                        dayHtml += `
                            <div class="diet-item">
                                <h3><i class="fas fa-tint"></i> Water Intake</h3>
                                <p>Aim for at least ${waterIntake}ml (approximately ${Math.round(waterIntake/250)} glasses) of water throughout the day.</p>
                            </div>
                        `;
                        
                        dayHtml += `</div>`;
                    }
                    
                    // Add sleep schedule (only on Sunday for example)
                    if (day.toLowerCase() === 'sunday' && plan.sleep_schedule) {
                        dayHtml += `
                            <div>
                                <h4 style="color: var(--accent-color); margin-bottom: 10px;"><i class="fas fa-bed"></i> Sleep Schedule</h4>
                                <div class="diet-item">
                                    <h3><i class="fas fa-clock"></i> Recommended Sleep</h3>
                                    <p>${plan.sleep_schedule.hrs}</p>
                                    <h3><i class="fas fa-moon"></i> Routine</h3>
                                    <p>${plan.sleep_schedule.rt}</p>
                                </div>
                            </div>
                        `;
                    }
                    
                    dayDiv.innerHTML = dayHtml;
                    weeklyPlanContainer.appendChild(dayDiv);
                });
            }
            
            // Check if a program was selected from the dashboard
            const selectedProgram = localStorage.getItem('selectedProgram');
            if (selectedProgram) {
                const program = JSON.parse(selectedProgram);
                
                // Map program IDs to sport values
                const programIdToSport = {
                    1: "sprinter",
                    2: "boxer",
                    3: "bodybuilder",
                    4: "swimmer",
                    5: "gymnast",
                    6: "cricket"
                };
                
                // Set the sport selection based on the program ID
                const sportValue = programIdToSport[program.id];
                if (sportValue) {
                    document.getElementById('sport-selection').value = sportValue;
                    // Trigger the change event to update the goals
                    document.getElementById('sport-selection').dispatchEvent(new Event('change'));
                }
                
                // Remove the selected program from localStorage to avoid pre-selection on subsequent visits
                localStorage.removeItem('selectedProgram');
            }
        });
    </script>
</body>
</html>